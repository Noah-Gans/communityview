;/*FB_PKG_DELIM*/

__d("LSGetFirstAvailableAdminMessageCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(27).fetchDesc([[[]],"ctaId"]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableAdminMessageCTAIDStoredProcedure";a.__tables__=["admin_message_ctas"];e.exports=a}),null);
__d("LSApplyAdminMessageCTA",["LSArrayGetObjectAt","LSDeserializeFromJsonIntoDictionaryV2.nop","LSGetFirstAvailableAdminMessageCTAID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetFirstAvailableAdminMessageCTAID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(27).put({threadKey:a[0],messageId:a[2],ctaId:d[0],timestampMs:a[1],adClientToken:a[5],adPreferenceUrl:a[6],adHelpUrl:a[7],showAdChoiceIcon:a[8],title:a[3],actionUrl:a[9],adminMessageNicknameParticipantId:a[10],targetId:a[11],targetTitle:a[12],actionContentBlob:a[13]})},function(e){return c.filter(c.db.table(12).fetch([[[a[2]]],"messageId"]),function(b){return a[2]===b.messageId&&c.i64.eq(a[0],b.threadKey)}).next().then(function(a,e){var f=a.done;a=a.value;return f?d[1]=void 0:(e=a.item,c.sequence([function(a){return d[7]=e.metadataDataclass,d[7]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[7]).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[9]=new c.Map(),d[70]="sticker",d[10]=d[8].get(d[70]),d[10]?d[11]=!1:d[11]=!0,d[11]?0:(d[10]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[107]="sticker_pack_id",d[103]=d[10].get(d[107]),d[103]!==void 0?d[102].set(d[107],d[103]):0,d[108]="sticker_id",d[104]=d[10].get(d[108]),d[104]!==void 0?d[102].set(d[108],d[104]):0,d[109]="avatar_style",d[105]=d[10].get(d[109]),d[105]!==void 0?d[102].set(d[109],d[105]):0,d[110]="avatar_revision_id",d[106]=d[10].get(d[110]),d[106]!==void 0?(d[106]!==void 0?d[111]=c.i64.from_string(d[106]):d[111]=void 0,d[102].set(d[110],d[111])):0,d[101]=d[102]),d[9].set(d[70],d[101])),d[71]="word_effects",d[12]=d[8].get(d[71]),d[12]?d[13]=!1:d[13]=!0,d[13]?c.resolve():c.sequence([function(a){return d[12]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[109]="magic_word_offsets",d[103]=d[12].get(d[109]),d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[112]=c.createArray(),d[113]=c.i64.of_int32(d[103].length),c.i64.gt(d[113],c.i64.cast([0,0]))?c.loopAsync(d[113],function(a){return d[114]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[103],d[114]).then(function(a){return a=a,d[115]=a[0],d[116]=a[1],a})},function(a){return d[117]=(d[112].push(d[115]),d[112])}])}):c.resolve()},function(a){return d[102].set(d[109],d[112])}])},function(a){return d[110]="magic_word_lengths",d[105]=d[12].get(d[110]),d[105]?d[106]=!1:d[106]=!0,d[106]?c.resolve():c.sequence([function(a){return d[112]=c.createArray(),d[113]=c.i64.of_int32(d[105].length),c.i64.gt(d[113],c.i64.cast([0,0]))?c.loopAsync(d[113],function(a){return d[114]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[105],d[114]).then(function(a){return a=a,d[115]=a[0],d[116]=a[1],a})},function(a){return d[117]=(d[112].push(d[115]),d[112])}])}):c.resolve()},function(a){return d[102].set(d[110],d[112])}])},function(a){return d[111]="magic_word_emojis",d[107]=d[12].get(d[111]),d[107]?d[108]=!1:d[108]=!0,d[108]?c.resolve():c.sequence([function(a){return d[107]?d[112]=!1:d[112]=!0,d[112]?c.resolve(d[113]=void 0):c.sequence([function(a){return d[114]=c.createArray(),d[115]=c.i64.of_int32(d[107].length),c.i64.gt(d[115],c.i64.cast([0,0]))?c.loopAsync(d[115],function(a){return d[116]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[107],d[116]).then(function(a){return a=a,d[117]=a[0],d[118]=a[1],a})},function(a){return d[119]=(d[114].push(d[117]),d[114])}])}):c.resolve()},function(a){return d[113]=d[114]}])},function(a){return d[102].set(d[111],d[113])}])},function(a){return d[101]=d[102]}])},function(a){return d[9].set(d[71],d[101])}])},function(a){return d[72]="ig_avatar_sticker",d[14]=d[8].get(d[72]),d[14]?d[15]=!1:d[15]=!0,d[15]?0:(d[14]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[104]="is_avatar_sticker",d[103]=d[14].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[101]=d[102]),d[9].set(d[72],d[101])),d[73]="power_up",d[16]=d[8].get(d[73]),d[16]?d[17]=!1:d[17]=!0,d[17]?0:(d[16]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[104]="power_up_style",d[103]=d[16].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[101]=d[102]),d[9].set(d[73],d[101])),d[74]="ai_bot",d[18]=d[8].get(d[74]),d[18]?d[19]=!1:d[19]=!0,d[19]?c.resolve():c.sequence([function(a){return d[18]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[132]="response_id",d[103]=d[18].get(d[132]),d[103]!==void 0?d[102].set(d[132],d[103]):0,d[133]="bot_action",d[104]=d[18].get(d[133]),d[104]!==void 0?d[102].set(d[133],d[104]):0,d[134]="sentiment",d[105]=d[18].get(d[134]),d[105]!==void 0?d[102].set(d[134],d[105]):0,d[135]="sentiment_intensity",d[106]=d[18].get(d[135]),d[106]!==void 0?d[102].set(d[135],d[106]):0,d[136]="imagine_media_id",d[107]=d[18].get(d[136]),d[107]!==void 0?(d[107]!==void 0?d[158]=c.i64.from_string(d[107]):d[158]=void 0,d[102].set(d[136],d[158])):0,d[137]="bot_action_int",d[108]=d[18].get(d[137]),c.i64.neq(d[108],void 0)?d[102].set(d[137],d[108]):0,d[138]="sentiment_int",d[109]=d[18].get(d[138]),c.i64.neq(d[109],void 0)?d[102].set(d[138],d[109]):0,d[139]="sentiment_intensity_int",d[110]=d[18].get(d[139]),c.i64.neq(d[110],void 0)?d[102].set(d[139],d[110]):0,d[140]="bot_invocation_message_id",d[111]=d[18].get(d[140]),d[111]!==void 0?d[102].set(d[140],d[111]):0,d[141]="bot_response_id",d[112]=d[18].get(d[141]),d[112]!==void 0?d[102].set(d[141],d[112]):0,d[142]="bot_invocation_message_otid",d[113]=d[18].get(d[142]),d[113]!==void 0?d[102].set(d[142],d[113]):0,d[143]="bot_invocation_logging_id",d[114]=d[18].get(d[143]),d[114]!==void 0?d[102].set(d[143],d[114]):0,d[144]="bot_invocation_sender_id",d[115]=d[18].get(d[144]),d[115]!==void 0?d[102].set(d[144],d[115]):0,d[145]="is_error",d[116]=d[18].get(d[145]),d[116]!==void 0?d[102].set(d[145],d[116]):0,d[146]="bot_subscription_id",d[117]=d[18].get(d[146]),d[117]!==void 0?(d[117]!==void 0?d[158]=c.i64.from_string(d[117]):d[158]=void 0,d[102].set(d[146],d[158])):0,d[147]="bot_subscription_product_type",d[118]=d[18].get(d[147]),d[118]!==void 0?d[102].set(d[147],d[118]):0,d[148]="bot_response_product_type",d[119]=d[18].get(d[148]),d[119]!==void 0?d[102].set(d[148],d[119]):0,d[149]="original_prompt_text",d[120]=d[18].get(d[149]),d[120]!==void 0?d[102].set(d[149],d[120]):0,d[150]="bot_response_additional_message_otids",d[121]=d[18].get(d[150]),d[121]?d[122]=!1:d[122]=!0,d[122]?c.resolve():c.sequence([function(a){return d[121]?d[158]=!1:d[158]=!0,d[158]?c.resolve(d[159]=void 0):c.sequence([function(a){return d[160]=c.createArray(),d[161]=c.i64.of_int32(d[121].length),c.i64.gt(d[161],c.i64.cast([0,0]))?c.loopAsync(d[161],function(a){return d[162]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[121],d[162]).then(function(a){return a=a,d[163]=a[0],d[164]=a[1],a})},function(a){return d[165]=(d[160].push(d[163]),d[160])}])}):c.resolve()},function(a){return d[159]=d[160]}])},function(a){return d[102].set(d[150],d[159])}])},function(a){return d[151]="imagine_media_info",d[123]=d[18].get(d[151]),d[123]?d[124]=!1:d[124]=!0,d[124]?c.resolve():c.sequence([function(a){return d[123]?d[158]=!1:d[158]=!0,d[158]?c.resolve(d[159]=void 0):c.sequence([function(a){return d[160]=c.createArray(),d[161]=c.i64.of_int32(d[123].length),c.i64.gt(d[161],c.i64.cast([0,0]))?c.loopAsync(d[161],function(a){return d[162]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[123],d[162]).then(function(a){return a=a,d[163]=a[0],d[164]=a[1],a})},function(a){return d[165]=new c.Map(),d[169]="imagine_media_id",d[166]=d[163].get(d[169]),d[166]!==void 0?(d[166]!==void 0?d[172]=c.i64.from_string(d[166]):d[172]=void 0,d[165].set(d[169],d[172])):0,d[170]="editable",d[167]=d[163].get(d[170]),d[167]!==void 0?d[165].set(d[170],d[167]):0,d[171]="animatable",d[168]=d[163].get(d[171]),d[168]!==void 0?d[165].set(d[171],d[168]):0,d[172]=(d[160].push(d[165]),d[160])}])}):c.resolve()},function(a){return d[159]=d[160]}])},function(a){return d[102].set(d[151],d[159])}])},function(a){return d[152]="groups_ugc_metadata",d[125]=d[18].get(d[152]),d[125]?d[126]=!1:d[126]=!0,d[126]?0:(d[125]?d[158]=!1:d[158]=!0,d[158]?d[159]=void 0:(d[160]=new c.Map(),d[162]="share_to_comment_uri",d[161]=d[125].get(d[162]),d[161]!==void 0?d[160].set(d[162],d[161]):0,d[159]=d[160]),d[102].set(d[152],d[159])),d[153]="bot_proactive_message_type",d[127]=d[18].get(d[153]),c.i64.neq(d[127],void 0)?d[102].set(d[153],d[127]):0,d[154]="bot_proactive_nudge_type",d[128]=d[18].get(d[154]),c.i64.neq(d[128],void 0)?d[102].set(d[154],d[128]):0,d[155]="conversation_header",d[129]=d[18].get(d[155]),d[129]!==void 0?d[102].set(d[155],d[129]):0,d[156]="stream_status",d[130]=d[18].get(d[156]),d[130]!==void 0?d[102].set(d[156],d[130]):0,d[157]="stream_status_type",d[131]=d[18].get(d[157]),d[131]!==void 0?d[102].set(d[157],d[131]):0,d[101]=d[102]}])},function(a){return d[9].set(d[74],d[101])}])},function(a){return d[75]="pobox",d[20]=d[8].get(d[75]),d[20]?d[21]=!1:d[21]=!0,d[21]?0:(d[20]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[105]="pobox_fbid",d[103]=d[20].get(d[105]),d[103]!==void 0?(d[103]!==void 0?d[107]=c.i64.from_string(d[103]):d[107]=void 0,d[102].set(d[105],d[107])):0,d[106]="pobox_id",d[104]=d[20].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[101]=d[102]),d[9].set(d[75],d[101])),d[76]="video",d[22]=d[8].get(d[76]),d[22]?d[23]=!1:d[23]=!0,d[23]?0:(d[22]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[104]="unified_upload_mos",d[103]=d[22].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[101]=d[102]),d[9].set(d[76],d[101])),d[77]="text_translation",d[24]=d[8].get(d[77]),d[24]?d[25]=!1:d[25]=!0,d[25]?0:(d[24]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[106]="translated_text",d[103]=d[24].get(d[106]),d[103]!==void 0?d[102].set(d[106],d[103]):0,d[107]="text_dialect",d[104]=d[24].get(d[107]),d[104]!==void 0?d[102].set(d[107],d[104]):0,d[108]="translated_text_dialect",d[105]=d[24].get(d[108]),d[105]!==void 0?d[102].set(d[108],d[105]):0,d[101]=d[102]),d[9].set(d[77],d[101])),d[78]="memories",d[26]=d[8].get(d[78]),d[26]?d[27]=!1:d[27]=!0,d[27]?c.resolve():c.sequence([function(a){return d[26]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[110]="original_message_id",d[103]=d[26].get(d[110]),d[103]!==void 0?d[102].set(d[110],d[103]):0,d[111]="original_message_creation_ts",d[104]=d[26].get(d[111]),d[104]!==void 0?(d[104]!==void 0?d[116]=c.i64.from_string(d[104]):d[116]=void 0,d[102].set(d[111],d[116])):0,d[112]="memory_server_id",d[105]=d[26].get(d[112]),d[105]!==void 0?(d[105]!==void 0?d[116]=c.i64.from_string(d[105]):d[116]=void 0,d[102].set(d[112],d[116])):0,d[113]="memory_template_type",d[106]=d[26].get(d[113]),d[106]!==void 0?d[102].set(d[113],d[106]):0,d[114]="memory_context_messages",d[107]=d[26].get(d[114]),d[107]?d[108]=!1:d[108]=!0,d[108]?c.resolve():c.sequence([function(a){return d[107]?d[116]=!1:d[116]=!0,d[116]?c.resolve(d[117]=void 0):c.sequence([function(a){return d[118]=c.createArray(),d[119]=c.i64.of_int32(d[107].length),c.i64.gt(d[119],c.i64.cast([0,0]))?c.loopAsync(d[119],function(a){return d[120]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[107],d[120]).then(function(a){return a=a,d[121]=a[0],d[122]=a[1],a})},function(a){return d[123]=new c.Map(),d[128]="sender_id",d[124]=d[121].get(d[128]),d[124]!==void 0?(d[124]!==void 0?d[131]=c.i64.from_string(d[124]):d[131]=void 0,d[123].set(d[128],d[131])):0,d[129]="message_text",d[125]=d[121].get(d[129]),d[125]!==void 0?d[123].set(d[129],d[125]):0,d[130]="reactions",d[126]=d[121].get(d[130]),d[126]?d[127]=!1:d[127]=!0,d[127]?c.resolve():c.sequence([function(a){return d[126]?d[131]=!1:d[131]=!0,d[131]?c.resolve(d[132]=void 0):c.sequence([function(a){return d[133]=c.createArray(),d[134]=c.i64.of_int32(d[126].length),c.i64.gt(d[134],c.i64.cast([0,0]))?c.loopAsync(d[134],function(a){return d[135]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[126],d[135]).then(function(a){return a=a,d[136]=a[0],d[137]=a[1],a})},function(a){return d[138]=(d[133].push(d[136]),d[133])}])}):c.resolve()},function(a){return d[132]=d[133]}])},function(a){return d[123].set(d[130],d[132])}])},function(a){return d[131]=(d[118].push(d[123]),d[118])}])}):c.resolve()},function(a){return d[117]=d[118]}])},function(a){return d[102].set(d[114],d[117])}])},function(a){return d[115]="is_memory_originating_thread",d[109]=d[26].get(d[115]),d[109]!==void 0?d[102].set(d[115],d[109]):0,d[101]=d[102]}])},function(a){return d[9].set(d[78],d[101])}])},function(a){return d[79]="command",d[28]=d[8].get(d[79]),d[28]?d[29]=!1:d[29]=!0,d[29]?0:(d[28]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[104]="command_type",d[103]=d[28].get(d[104]),c.i64.neq(d[103],void 0)?d[102].set(d[104],d[103]):0,d[101]=d[102]),d[9].set(d[79],d[101])),d[80]="admin_message",d[30]=d[8].get(d[80]),d[30]?d[31]=!1:d[31]=!0,d[31]?0:(d[30]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[113]="ad_client_token",d[103]=d[30].get(d[113]),d[103]!==void 0?d[102].set(d[113],d[103]):0,d[114]="ad_preference_url",d[104]=d[30].get(d[114]),d[104]!==void 0?d[102].set(d[114],d[104]):0,d[115]="ad_help_url",d[105]=d[30].get(d[115]),d[105]!==void 0?d[102].set(d[115],d[105]):0,d[116]="show_ad_choice_icon",d[106]=d[30].get(d[116]),d[106]!==void 0?d[102].set(d[116],d[106]):0,d[117]="title",d[107]=d[30].get(d[117]),d[107]!==void 0?d[102].set(d[117],d[107]):0,d[118]="action_url",d[108]=d[30].get(d[118]),d[108]!==void 0?d[102].set(d[118],d[108]):0,d[119]="admin_message_nickname_participant_id",d[109]=d[30].get(d[119]),d[109]!==void 0?(d[109]!==void 0?d[123]=c.i64.from_string(d[109]):d[123]=void 0,d[102].set(d[119],d[123])):0,d[120]="target_id",d[110]=d[30].get(d[120]),d[110]!==void 0?(d[110]!==void 0?d[123]=c.i64.from_string(d[110]):d[123]=void 0,d[102].set(d[120],d[123])):0,d[121]="target_title",d[111]=d[30].get(d[121]),d[111]!==void 0?d[102].set(d[121],d[111]):0,d[122]="identifier_name",d[112]=d[30].get(d[122]),d[112]!==void 0?d[102].set(d[122],d[112]):0,d[101]=d[102]),d[9].set(d[80],d[101])),d[81]="misinfo_metadata",d[32]=d[8].get(d[81]),d[32]?d[33]=!1:d[33]=!0,d[33]?0:(d[32]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[105]="has_misinfo",d[103]=d[32].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="misinfo_source",d[104]=d[32].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[101]=d[102]),d[9].set(d[81],d[101])),d[82]="forwarded_message",d[34]=d[8].get(d[82]),d[34]?d[35]=!1:d[35]=!0,d[35]?0:(d[34]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[105]="forwarded_from_thread_name",d[103]=d[34].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="forwarded_from_thread_url",d[104]=d[34].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[101]=d[102]),d[9].set(d[82],d[101])),d[83]="ai_metadata",d[36]=d[8].get(d[83]),d[36]?d[37]=!1:d[37]=!0,d[37]?0:(d[36]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[109]="is_ai_generated",d[103]=d[36].get(d[109]),d[103]!==void 0?d[102].set(d[109],d[103]):0,d[110]="gen_ai_integrity_ent_id",d[104]=d[36].get(d[110]),d[104]!==void 0?(d[104]!==void 0?d[115]=c.i64.from_string(d[104]):d[115]=void 0,d[102].set(d[110],d[115])):0,d[111]="ai_product",d[105]=d[36].get(d[111]),d[105]!==void 0?d[102].set(d[111],d[105]):0,d[112]="original_prompt_text",d[106]=d[36].get(d[112]),d[106]!==void 0?d[102].set(d[112],d[106]):0,d[113]="imagine_intent_feature",d[107]=d[36].get(d[113]),d[107]!==void 0?d[102].set(d[113],d[107]):0,d[114]="imagine_media_id",d[108]=d[36].get(d[114]),d[108]!==void 0?(d[108]!==void 0?d[115]=c.i64.from_string(d[108]):d[115]=void 0,d[102].set(d[114],d[115])):0,d[101]=d[102]),d[9].set(d[83],d[101])),d[84]="encrypted_message",d[38]=d[8].get(d[84]),d[38]?d[39]=!1:d[39]=!0,d[39]?c.resolve():c.sequence([function(a){return d[38]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[110]="thread_id",d[103]=d[38].get(d[110]),d[103]!==void 0?d[102].set(d[110],d[103]):0,d[111]="offline_threading_id",d[104]=d[38].get(d[111]),d[104]!==void 0?d[102].set(d[111],d[104]):0,d[112]="toplevel_payload",d[105]=d[38].get(d[112]),d[105]?d[106]=!1:d[106]=!0,d[106]?0:(d[115]=new c.Map(),d[121]="encrypted_payload",d[116]=d[105].get(d[121]),d[116]!==void 0?d[115].set(d[121],d[116]):0,d[122]="payloadTimestampMs",d[117]=d[105].get(d[122]),d[117]!==void 0?d[115].set(d[122],c.i64.from_string(d[117])):0,d[123]="encryption_version",d[118]=d[105].get(d[123]),c.i64.neq(d[118],void 0)?d[115].set(d[123],d[118]):0,d[124]="epoch_id",d[119]=d[105].get(d[124]),d[119]!==void 0?d[115].set(d[124],c.i64.from_string(d[119])):0,d[125]="epoch_anon_id",d[120]=d[105].get(d[125]),d[120]!==void 0?d[115].set(d[125],d[120]):0,d[102].set(d[112],d[115])),d[113]="supplemental_payloads",d[107]=d[38].get(d[113]),d[107]?d[108]=!1:d[108]=!0,d[108]?c.resolve():c.sequence([function(a){return d[115]=c.createArray(),d[116]=c.i64.of_int32(d[107].length),c.i64.gt(d[116],c.i64.cast([0,0]))?c.loopAsync(d[116],function(a){return d[117]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[107],d[117]).then(function(a){return a=a,d[118]=a[0],d[119]=a[1],a})},function(a){return d[120]=new c.Map(),d[125]="encrypted_supplemental_key",d[121]=d[118].get(d[125]),d[121]!==void 0?d[120].set(d[125],d[121]):0,d[126]="supplemental_key_ciphertext",d[122]=d[118].get(d[126]),d[122]!==void 0?d[120].set(d[126],d[122]):0,d[127]="encrypted_supplemental_payload",d[123]=d[118].get(d[127]),d[123]?d[124]=!1:d[124]=!0,d[124]?0:(d[128]=new c.Map(),d[134]="encrypted_payload",d[129]=d[123].get(d[134]),d[129]!==void 0?d[128].set(d[134],d[129]):0,d[135]="payloadTimestampMs",d[130]=d[123].get(d[135]),d[130]!==void 0?d[128].set(d[135],c.i64.from_string(d[130])):0,d[136]="encryption_version",d[131]=d[123].get(d[136]),c.i64.neq(d[131],void 0)?d[128].set(d[136],d[131]):0,d[137]="epoch_id",d[132]=d[123].get(d[137]),d[132]!==void 0?d[128].set(d[137],c.i64.from_string(d[132])):0,d[138]="epoch_anon_id",d[133]=d[123].get(d[138]),d[133]!==void 0?d[128].set(d[138],d[133]):0,d[120].set(d[127],d[128])),d[128]=(d[115].push(d[120]),d[115])}])}):c.resolve()},function(a){return d[102].set(d[113],d[115])}])},function(a){return d[114]="is_open_eb",d[109]=d[38].get(d[114]),d[109]!==void 0?d[102].set(d[114],d[109]):0,d[101]=d[102]}])},function(a){return d[9].set(d[84],d[101])}])},function(a){return d[85]="rich_text",d[40]=d[8].get(d[85]),d[40]?d[41]=!1:d[41]=!0,d[41]?0:(d[40]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[104]="rich_text_format_type",d[103]=d[40].get(d[104]),c.i64.neq(d[103],void 0)?d[102].set(d[104],d[103]):0,d[101]=d[102]),d[9].set(d[85],d[101])),d[86]="content_logging_metadata",d[42]=d[8].get(d[86]),d[42]?d[43]=!1:d[43]=!0,d[43]?c.resolve():c.sequence([function(a){return d[42]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[108]="containing_post",d[103]=d[42].get(d[108]),d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[103]?d[111]=!1:d[111]=!0,d[111]?c.resolve(d[112]=void 0):c.sequence([function(a){return d[113]=new c.Map(),d[121]="key_type",d[114]=d[103].get(d[121]),d[114]!==void 0?d[113].set(d[121],d[114]):0,d[122]="fb_post_type",d[115]=d[103].get(d[122]),d[115]?d[116]=!1:d[116]=!0,d[116]?c.resolve():c.sequence([function(a){return d[115]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[115].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[115],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[113].set(d[122],d[126])}])},function(a){return d[123]="photos",d[117]=d[103].get(d[123]),d[117]?d[118]=!1:d[118]=!0,d[118]?c.resolve():c.sequence([function(a){return d[117]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[117].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[117],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=new c.Map(),d[134]="key_type",d[133]=d[130].get(d[134]),d[133]!==void 0?d[132].set(d[134],d[133]):0,d[135]=(d[127].push(d[132]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[113].set(d[123],d[126])}])},function(a){return d[124]="videos",d[119]=d[103].get(d[124]),d[119]?d[120]=!1:d[120]=!0,d[120]?c.resolve():c.sequence([function(a){return d[119]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[119].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[119],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=new c.Map(),d[134]="key_type",d[133]=d[130].get(d[134]),d[133]!==void 0?d[132].set(d[134],d[133]):0,d[135]=(d[127].push(d[132]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[113].set(d[124],d[126])}])},function(a){return d[112]=d[113]}])},function(a){return d[102].set(d[108],d[112])}])},function(a){return d[109]="metadata",d[105]=d[42].get(d[109]),d[105]?d[106]=!1:d[106]=!0,d[106]?c.resolve():c.sequence([function(a){return d[105]?d[111]=!1:d[111]=!0,d[111]?c.resolve(d[112]=void 0):c.sequence([function(a){return d[113]=d[105].get("__typename"),d[113]==="XMSGGroupsContentLoggingMetadata"?c.resolve((d[115]=new c.Map(),d[117]="num_members",d[116]=d[105].get(d[117]),c.i64.neq(d[116],void 0)?d[115].set(d[117],d[116]):0,d[114]=d[115])):c.sequence([function(a){return d[113]==="XMSGStoriesContentLoggingMetadata"?c.resolve((d[116]=new c.Map(),d[121]="author",d[117]=d[105].get(d[121]),d[117]?d[118]=!1:d[118]=!0,d[118]?0:(d[117]?d[124]=!1:d[124]=!0,d[124]?d[125]=void 0:(d[126]=new c.Map(),d[129]="profile",d[127]=d[117].get(d[129]),d[127]?d[128]=!1:d[128]=!0,d[128]?0:(d[127]?d[130]=!1:d[130]=!0,d[130]?d[131]=void 0:(d[132]=new c.Map(),d[134]="id",d[133]=d[127].get(d[134]),d[133]!==void 0?d[132].set(d[134],d[133]):0,d[131]=d[132]),d[126].set(d[129],d[131])),d[125]=d[126]),d[116].set(d[121],d[125])),d[122]="post_source",d[119]=d[105].get(d[122]),d[119]!==void 0?d[116].set(d[122],d[119]):0,d[123]="story_type",d[120]=d[105].get(d[123]),d[120]!==void 0?d[116].set(d[123],d[120]):0,d[115]=d[116])):c.sequence([function(a){return d[116]=new c.Map(),d[117]=d[105].keys(),d[118]=c.i64.of_int32(d[117].length),c.i64.gt(d[118],c.i64.cast([0,0]))?c.loopAsync(d[118],function(a){return d[119]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[117],d[119]).then(function(a){return a=a,d[120]=a[0],d[121]=a[1],a})},function(a){return d[122]=d[105].get(d[120]),d[116].set(d[120],d[122])}])}):c.resolve()},function(a){return d[115]=d[116]}])},function(a){return d[114]=d[115]}])},function(a){return d[114].set("__typename",d[113]),d[112]=d[114]}])},function(a){return d[102].set(d[109],d[112])}])},function(a){return d[110]="hashed_content",d[107]=d[42].get(d[110]),d[107]!==void 0?d[102].set(d[110],d[107]):0,d[101]=d[102]}])},function(a){return d[9].set(d[86],d[101])}])},function(a){return d[87]="suggested_moderation_actions",d[44]=d[8].get(d[87]),d[44]?d[45]=!1:d[45]=!0,d[45]?c.resolve():c.sequence([function(a){return d[44]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[106]="suggested_moderation_actions_list",d[103]=d[44].get(d[106]),d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[103]?d[108]=!1:d[108]=!0,d[108]?c.resolve(d[109]=void 0):c.sequence([function(a){return d[110]=new c.Map(),d[113]="suggested_moderation_actions",d[111]=d[103].get(d[113]),d[111]?d[112]=!1:d[112]=!0,d[112]?c.resolve():c.sequence([function(a){return d[111]?d[114]=!1:d[114]=!0,d[114]?c.resolve(d[115]=void 0):c.sequence([function(a){return d[116]=c.createArray(),d[117]=c.i64.of_int32(d[111].length),c.i64.gt(d[117],c.i64.cast([0,0]))?c.loopAsync(d[117],function(a){return d[118]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[111],d[118]).then(function(a){return a=a,d[119]=a[0],d[120]=a[1],a})},function(a){return d[121]=new c.Map(),d[124]="primary_action",d[122]=d[119].get(d[124]),d[122]!==void 0?d[121].set(d[124],d[122]):0,d[125]="chained_actions",d[123]=d[119].get(d[125]),d[123]!==void 0?d[121].set(d[125],d[123]):0,d[126]=(d[116].push(d[121]),d[116])}])}):c.resolve()},function(a){return d[115]=d[116]}])},function(a){return d[110].set(d[113],d[115])}])},function(a){return d[109]=d[110]}])},function(a){return d[102].set(d[106],d[109])}])},function(a){return d[107]="suggested_moderation_actions_json",d[105]=d[44].get(d[107]),d[105]!==void 0?d[102].set(d[107],d[105]):0,d[101]=d[102]}])},function(a){return d[9].set(d[87],d[101])}])},function(a){return d[88]="highlights_tab_custom_card_metadata",d[46]=d[8].get(d[88]),d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[105]="is_custom_card",d[103]=d[46].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="moment",d[104]=d[46].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[101]=d[102]),d[9].set(d[88],d[101])),d[89]="highlights_tab_metadata",d[48]=d[8].get(d[89]),d[48]?d[49]=!1:d[49]=!0,d[49]?c.resolve():c.sequence([function(a){return d[48]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[108]="reply_source_type",d[103]=d[48].get(d[108]),d[103]!==void 0?d[102].set(d[108],d[103]):0,d[109]="reply_metadata",d[104]=d[48].get(d[109]),d[104]?d[105]=!1:d[105]=!0,d[105]?c.resolve():c.sequence([function(a){return d[104]?d[111]=!1:d[111]=!0,d[111]?c.resolve(d[112]=void 0):c.sequence([function(a){return d[113]=d[104].get("__typename"),d[113]==="XMSGHighlightsTabBirthdayReplyMetadata"?c.resolve((d[115]=new c.Map(),d[117]="birthday_age",d[116]=d[104].get(d[117]),c.i64.neq(d[116],void 0)?d[115].set(d[117],d[116]):0,d[114]=d[115])):c.sequence([function(a){return d[113]==="XMSGHighlightsTabAttributionReplyMetadata"?c.resolve((d[116]=new c.Map(),d[118]="entry_point",d[117]=d[104].get(d[118]),c.i64.neq(d[117],void 0)?d[116].set(d[118],d[117]):0,d[115]=d[116])):c.sequence([function(a){return d[116]=new c.Map(),d[117]=d[104].keys(),d[118]=c.i64.of_int32(d[117].length),c.i64.gt(d[118],c.i64.cast([0,0]))?c.loopAsync(d[118],function(a){return d[119]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[117],d[119]).then(function(a){return a=a,d[120]=a[0],d[121]=a[1],a})},function(a){return d[122]=d[104].get(d[120]),d[116].set(d[120],d[122])}])}):c.resolve()},function(a){return d[115]=d[116]}])},function(a){return d[114]=d[115]}])},function(a){return d[114].set("__typename",d[113]),d[112]=d[114]}])},function(a){return d[102].set(d[109],d[112])}])},function(a){return d[110]="moment_card_metadata",d[106]=d[48].get(d[110]),d[106]?d[107]=!1:d[107]=!0,d[107]?0:(d[106]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[113]=new c.Map(),d[115]="moment_card_type",d[114]=d[106].get(d[115]),d[114]!==void 0?d[113].set(d[115],d[114]):0,d[112]=d[113]),d[102].set(d[110],d[112])),d[101]=d[102]}])},function(a){return d[9].set(d[89],d[101])}])},function(a){return d[90]="business_thread_response_feedback",d[50]=d[8].get(d[90]),d[50]?d[51]=!1:d[51]=!0,d[51]?0:(d[50]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[104]="is_feedback_button_enabled_for_message",d[103]=d[50].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[101]=d[102]),d[9].set(d[90],d[101])),d[91]="live_shopping_metadata",d[52]=d[8].get(d[91]),d[52]?d[53]=!1:d[53]=!0,d[53]?0:(d[52]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[104]="referral_post_id",d[103]=d[52].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[101]=d[102]),d[9].set(d[91],d[101])),d[92]="reply_metadata",d[54]=d[8].get(d[92]),d[54]?d[55]=!1:d[55]=!0,d[55]?0:(d[54]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[104]="is_markdown",d[103]=d[54].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[101]=d[102]),d[9].set(d[92],d[101])),d[93]="mustache_cta",d[56]=d[8].get(d[93]),d[56]?d[57]=!1:d[57]=!0,d[57]?0:(d[56]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[106]="cta_type",d[103]=d[56].get(d[106]),d[103]!==void 0?d[102].set(d[106],d[103]):0,d[107]="title",d[104]=d[56].get(d[107]),d[104]!==void 0?d[102].set(d[107],d[104]):0,d[108]="action_url",d[105]=d[56].get(d[108]),d[105]!==void 0?d[102].set(d[108],d[105]):0,d[101]=d[102]),d[9].set(d[93],d[101])),d[94]="inline_entities",d[58]=d[8].get(d[94]),d[58]?d[59]=!1:d[59]=!0,d[59]?c.resolve():c.sequence([function(a){return d[58]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[107]="entities",d[103]=d[58].get(d[107]),d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[110]=c.createArray(),d[111]=c.i64.of_int32(d[103].length),c.i64.gt(d[111],c.i64.cast([0,0]))?c.loopAsync(d[111],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[103],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=new c.Map(),d[124]="offset",d[116]=d[113].get(d[124]),c.i64.neq(d[116],void 0)?d[115].set(d[124],d[116]):0,d[125]="length",d[117]=d[113].get(d[125]),c.i64.neq(d[117],void 0)?d[115].set(d[125],d[117]):0,d[126]="type",d[118]=d[113].get(d[126]),d[118]!==void 0?d[115].set(d[126],d[118]):0,d[127]="metadata",d[119]=d[113].get(d[127]),d[119]?d[120]=!1:d[120]=!0,d[120]?c.resolve():c.sequence([function(a){return d[119]?d[131]=!1:d[131]=!0,d[131]?c.resolve(d[132]=void 0):c.sequence([function(a){return d[133]=new c.Map(),d[140]="search_query",d[134]=d[119].get(d[140]),d[134]!==void 0?d[133].set(d[140],d[134]):0,d[141]="reminder_topic",d[135]=d[119].get(d[141]),d[135]!==void 0?d[133].set(d[141],d[135]):0,d[142]="thread_surfing_metadata",d[136]=d[119].get(d[142]),d[136]?d[137]=!1:d[137]=!0,d[137]?c.resolve():c.sequence([function(a){return d[136]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[146]=new c.Map(),d[152]="matched_entity",d[147]=d[136].get(d[152]),d[147]!==void 0?d[146].set(d[152],d[147]):0,d[153]="prompts",d[148]=d[136].get(d[153]),d[148]?d[149]=!1:d[149]=!0,d[149]?c.resolve():c.sequence([function(a){return d[155]=c.createArray(),d[156]=c.i64.of_int32(d[148].length),c.i64.gt(d[156],c.i64.cast([0,0]))?c.loopAsync(d[156],function(a){return d[157]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[148],d[157]).then(function(a){return a=a,d[158]=a[0],d[159]=a[1],a})},function(a){return d[160]=(d[155].push(d[158]),d[155])}])}):c.resolve()},function(a){return d[146].set(d[153],d[155])}])},function(a){return d[154]="thread_surfing_prompts",d[150]=d[136].get(d[154]),d[150]?d[151]=!1:d[151]=!0,d[151]?c.resolve():c.sequence([function(a){return d[150]?d[155]=!1:d[155]=!0,d[155]?c.resolve(d[156]=void 0):c.sequence([function(a){return d[157]=c.createArray(),d[158]=c.i64.of_int32(d[150].length),c.i64.gt(d[158],c.i64.cast([0,0]))?c.loopAsync(d[158],function(a){return d[159]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[150],d[159]).then(function(a){return a=a,d[160]=a[0],d[161]=a[1],a})},function(a){return d[162]=new c.Map(),d[165]="prompt",d[163]=d[160].get(d[165]),d[163]!==void 0?d[162].set(d[165],d[163]):0,d[166]="prompt_id",d[164]=d[160].get(d[166]),d[164]!==void 0?d[162].set(d[166],d[164]):0,d[167]=(d[157].push(d[162]),d[157])}])}):c.resolve()},function(a){return d[156]=d[157]}])},function(a){return d[146].set(d[154],d[156])}])},function(a){return d[145]=d[146]}])},function(a){return d[133].set(d[142],d[145])}])},function(a){return d[143]="ai_lookup_metadata",d[138]=d[119].get(d[143]),d[138]?d[139]=!1:d[139]=!0,d[139]?0:(d[138]?d[144]=!1:d[144]=!0,d[144]?d[145]=void 0:(d[146]=new c.Map(),d[149]="entity_type",d[147]=d[138].get(d[149]),d[147]!==void 0?d[146].set(d[149],d[147]):0,d[150]="action_type",d[148]=d[138].get(d[150]),d[148]!==void 0?d[146].set(d[150],d[148]):0,d[145]=d[146]),d[133].set(d[143],d[145])),d[132]=d[133]}])},function(a){return d[115].set(d[127],d[132])}])},function(a){return d[128]="action_label",d[121]=d[113].get(d[128]),d[121]!==void 0?d[115].set(d[128],d[121]):0,d[129]="context_token",d[122]=d[113].get(d[129]),d[122]!==void 0?d[115].set(d[129],d[122]):0,d[130]="context_token_type",d[123]=d[113].get(d[130]),c.i64.neq(d[123],void 0)?d[115].set(d[130],d[123]):0,d[131]=(d[110].push(d[115]),d[110])}])}):c.resolve()},function(a){return d[102].set(d[107],d[110])}])},function(a){return d[108]="inference_timestamp_ms",d[105]=d[58].get(d[108]),d[105]!==void 0?(d[105]!==void 0?d[110]=c.i64.from_string(d[105]):d[110]=void 0,d[102].set(d[108],d[110])):0,d[109]="inference_model_version",d[106]=d[58].get(d[109]),c.i64.neq(d[106],void 0)?d[102].set(d[109],d[106]):0,d[101]=d[102]}])},function(a){return d[9].set(d[94],d[101])}])},function(a){return d[95]="note_metadata",d[60]=d[8].get(d[95]),d[60]?d[61]=!1:d[61]=!0,d[61]?c.resolve():c.sequence([function(a){return d[60]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[108]="message_type",d[103]=d[60].get(d[108]),d[103]!==void 0?d[102].set(d[108],d[103]):0,d[109]="note_type",d[104]=d[60].get(d[109]),c.i64.neq(d[104],void 0)?d[102].set(d[109],d[104]):0,d[110]="mentions",d[105]=d[60].get(d[110]),d[105]?d[106]=!1:d[106]=!0,d[106]?c.resolve():c.sequence([function(a){return d[112]=c.createArray(),d[113]=c.i64.of_int32(d[105].length),c.i64.gt(d[113],c.i64.cast([0,0]))?c.loopAsync(d[113],function(a){return d[114]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[105],d[114]).then(function(a){return a=a,d[115]=a[0],d[116]=a[1],a})},function(a){return d[117]=new c.Map(),d[120]="offset",d[118]=d[115].get(d[120]),c.i64.neq(d[118],void 0)?d[117].set(d[120],d[118]):0,d[121]="length",d[119]=d[115].get(d[121]),c.i64.neq(d[119],void 0)?d[117].set(d[121],d[119]):0,d[122]=(d[112].push(d[117]),d[112])}])}):c.resolve()},function(a){return d[102].set(d[110],d[112])}])},function(a){return d[111]="expiration_timestamp_ms",d[107]=d[60].get(d[111]),d[107]!==void 0?d[102].set(d[111],c.i64.from_string(d[107])):0,d[101]=d[102]}])},function(a){return d[9].set(d[95],d[101])}])},function(a){return d[96]="ai_bot_summon_metadata",d[62]=d[8].get(d[96]),d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[105]="is_e2ee_summon_message",d[103]=d[62].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="thread_session_id",d[104]=d[62].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[101]=d[102]),d[9].set(d[96],d[101])),d[97]="ai_forwarded_metadata",d[64]=d[8].get(d[97]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[104]="is_generated_by_meta_ai",d[103]=d[64].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[101]=d[102]),d[9].set(d[97],d[101])),d[98]="transcription_metadata",d[66]=d[8].get(d[98]),d[66]?d[67]=!1:d[67]=!0,d[67]?0:(d[66]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[102]=new c.Map(),d[105]="text",d[103]=d[66].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="status",d[104]=d[66].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[101]=d[102]),d[9].set(d[98],d[101])),d[99]="image_glyphs_metadata",d[68]=d[8].get(d[99]),d[68]?d[69]=!1:d[69]=!0,d[69]?c.resolve():c.sequence([function(a){return d[68]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[105]="image_glyphs",d[103]=d[68].get(d[105]),d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[106]=c.createArray(),d[107]=c.i64.of_int32(d[103].length),c.i64.gt(d[107],c.i64.cast([0,0]))?c.loopAsync(d[107],function(a){return d[108]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[103],d[108]).then(function(a){return a=a,d[109]=a[0],d[110]=a[1],a})},function(a){return d[111]=new c.Map(),d[119]="offset",d[112]=d[109].get(d[119]),c.i64.neq(d[112],void 0)?d[111].set(d[119],d[112]):0,d[120]="length",d[113]=d[109].get(d[120]),c.i64.neq(d[113],void 0)?d[111].set(d[120],d[113]):0,d[121]="type",d[114]=d[109].get(d[121]),d[114]!==void 0?d[111].set(d[121],d[114]):0,d[122]="unique_identifier",d[115]=d[109].get(d[122]),d[115]!==void 0?d[111].set(d[122],d[115]):0,d[123]="content_description",d[116]=d[109].get(d[123]),d[116]!==void 0?d[111].set(d[123],d[116]):0,d[124]="uniform_type_identifier",d[117]=d[109].get(d[124]),d[117]!==void 0?d[111].set(d[124],d[117]):0,d[125]="fallback_text",d[118]=d[109].get(d[125]),d[118]!==void 0?d[111].set(d[125],d[118]):0,d[126]=(d[106].push(d[111]),d[106])}])}):c.resolve()},function(a){return d[102].set(d[105],d[106])}])},function(a){return d[101]=d[102]}])},function(a){return d[9].set(d[99],d[101])}])},function(a){return d[6]=d[9]}]):c.resolve((d[8]=new c.Map(),d[6]=d[8]))},function(a){return d[1]=d[6]}]))})},function(e){return d[1]?d[3]=!1:d[3]=!0,d[3]?0:(d[6]=new c.Map(),d[6].set("ad_client_token",a[5]),d[6].set("ad_preference_url",a[6]),d[6].set("ad_help_url",a[7]),d[6].set("show_ad_choice_icon",a[8]),d[6].set("title",a[3]),d[6].set("action_url",a[9]),d[6].set("admin_message_nickname_participant_id",a[10]),d[6].set("target_id",a[11]),d[6].set("target_title",a[12]),d[6].set("identifier_name",void 0),d[1].set("admin_message",d[6])),d[1]?d[4]=!1:d[4]=!0,d[4]?c.resolve(d[5]=void 0):c.sequence([function(a){return d[6]=new c.Map(),d[68]="sticker",d[7]=d[1].get(d[68]),d[7]?d[8]=!1:d[8]=!0,d[8]?0:(d[7]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[107]="sticker_pack_id",d[103]=d[7].get(d[107]),d[103]!==void 0?d[102].set(d[107],d[103]):0,d[108]="sticker_id",d[104]=d[7].get(d[108]),d[104]!==void 0?d[102].set(d[108],d[104]):0,d[109]="avatar_style",d[105]=d[7].get(d[109]),d[105]!==void 0?d[102].set(d[109],d[105]):0,d[110]="avatar_revision_id",d[106]=d[7].get(d[110]),c.i64.neq(d[106],void 0)?(c.i64.neq(d[106],void 0)?d[111]=c.i64.to_string(d[106]):d[111]=void 0,d[102].set(d[110],d[111])):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[68],d[99]):0),d[69]="word_effects",d[9]=d[1].get(d[69]),d[9]?d[10]=!1:d[10]=!0,d[10]?0:(d[9]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[109]="magic_word_offsets",d[103]=d[9].get(d[109]),d[103]?d[104]=!1:d[104]=!0,d[104]?0:d[102].set(d[109],d[103]),d[110]="magic_word_lengths",d[105]=d[9].get(d[110]),d[105]?d[106]=!1:d[106]=!0,d[106]?0:d[102].set(d[110],d[105]),d[111]="magic_word_emojis",d[107]=d[9].get(d[111]),d[107]?d[108]=!1:d[108]=!0,d[108]?0:(d[112]=c.i64.of_int32(d[107].length),c.i64.neq(d[112],c.i64.cast([0,0]))?d[102].set(d[111],d[107]):0),d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[69],d[99]):0),d[70]="ig_avatar_sticker",d[11]=d[1].get(d[70]),d[11]?d[12]=!1:d[12]=!0,d[12]?0:(d[11]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[104]="is_avatar_sticker",d[103]=d[11].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[70],d[99]):0),d[71]="power_up",d[13]=d[1].get(d[71]),d[13]?d[14]=!1:d[14]=!0,d[14]?0:(d[13]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[104]="power_up_style",d[103]=d[13].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[71],d[99]):0),d[72]="ai_bot",d[15]=d[1].get(d[72]),d[15]?d[16]=!1:d[16]=!0,d[16]?c.resolve():c.sequence([function(a){return d[15]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[132]="response_id",d[103]=d[15].get(d[132]),d[103]!==void 0?d[102].set(d[132],d[103]):0,d[133]="bot_action",d[104]=d[15].get(d[133]),d[104]!==void 0?d[102].set(d[133],d[104]):0,d[134]="sentiment",d[105]=d[15].get(d[134]),d[105]!==void 0?d[102].set(d[134],d[105]):0,d[135]="sentiment_intensity",d[106]=d[15].get(d[135]),d[106]!==void 0?d[102].set(d[135],d[106]):0,d[136]="imagine_media_id",d[107]=d[15].get(d[136]),c.i64.neq(d[107],void 0)?(c.i64.neq(d[107],void 0)?d[158]=c.i64.to_string(d[107]):d[158]=void 0,d[102].set(d[136],d[158])):0,d[137]="bot_action_int",d[108]=d[15].get(d[137]),c.i64.neq(d[108],void 0)?d[102].set(d[137],d[108]):0,d[138]="sentiment_int",d[109]=d[15].get(d[138]),c.i64.neq(d[109],void 0)?d[102].set(d[138],d[109]):0,d[139]="sentiment_intensity_int",d[110]=d[15].get(d[139]),c.i64.neq(d[110],void 0)?d[102].set(d[139],d[110]):0,d[140]="bot_invocation_message_id",d[111]=d[15].get(d[140]),d[111]!==void 0?d[102].set(d[140],d[111]):0,d[141]="bot_response_id",d[112]=d[15].get(d[141]),d[112]!==void 0?d[102].set(d[141],d[112]):0,d[142]="bot_invocation_message_otid",d[113]=d[15].get(d[142]),d[113]!==void 0?d[102].set(d[142],d[113]):0,d[143]="bot_invocation_logging_id",d[114]=d[15].get(d[143]),d[114]!==void 0?d[102].set(d[143],d[114]):0,d[144]="bot_invocation_sender_id",d[115]=d[15].get(d[144]),d[115]!==void 0?d[102].set(d[144],d[115]):0,d[145]="is_error",d[116]=d[15].get(d[145]),d[116]!==void 0?d[102].set(d[145],d[116]):0,d[146]="bot_subscription_id",d[117]=d[15].get(d[146]),c.i64.neq(d[117],void 0)?(c.i64.neq(d[117],void 0)?d[158]=c.i64.to_string(d[117]):d[158]=void 0,d[102].set(d[146],d[158])):0,d[147]="bot_subscription_product_type",d[118]=d[15].get(d[147]),d[118]!==void 0?d[102].set(d[147],d[118]):0,d[148]="bot_response_product_type",d[119]=d[15].get(d[148]),d[119]!==void 0?d[102].set(d[148],d[119]):0,d[149]="original_prompt_text",d[120]=d[15].get(d[149]),d[120]!==void 0?d[102].set(d[149],d[120]):0,d[150]="bot_response_additional_message_otids",d[121]=d[15].get(d[150]),d[121]?d[122]=!1:d[122]=!0,d[122]?0:(d[158]=c.i64.of_int32(d[121].length),c.i64.neq(d[158],c.i64.cast([0,0]))?d[102].set(d[150],d[121]):0),d[151]="imagine_media_info",d[123]=d[15].get(d[151]),d[123]?d[124]=!1:d[124]=!0,d[124]?c.resolve():c.sequence([function(a){return d[123]?d[158]=!1:d[158]=!0,d[158]?c.resolve(d[159]=void 0):c.sequence([function(a){return d[161]=c.createArray(),d[162]=c.i64.of_int32(d[123].length),c.i64.gt(d[162],c.i64.cast([0,0]))?c.loopAsync(d[162],function(a){return d[163]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[123],d[163]).then(function(a){return a=a,d[164]=a[0],d[165]=a[1],a})},function(a){return d[166]=new c.Map(),d[170]="imagine_media_id",d[167]=d[164].get(d[170]),c.i64.neq(d[167],void 0)?(c.i64.neq(d[167],void 0)?d[173]=c.i64.to_string(d[167]):d[173]=void 0,d[166].set(d[170],d[173])):0,d[171]="editable",d[168]=d[164].get(d[171]),d[168]!==void 0?d[166].set(d[171],d[168]):0,d[172]="animatable",d[169]=d[164].get(d[172]),d[169]!==void 0?d[166].set(d[172],d[169]):0,d[173]=(d[161].push(d[166]),d[161])}])}):c.resolve()},function(a){return d[159]=d[161]}])},function(a){return d[160]=c.i64.of_int32(d[159].length),c.i64.neq(d[160],c.i64.cast([0,0]))?d[102].set(d[151],d[159]):0}])},function(a){return d[152]="groups_ugc_metadata",d[125]=d[15].get(d[152]),d[125]?d[126]=!1:d[126]=!0,d[126]?0:(d[125]?d[158]=!1:d[158]=!0,d[158]?d[159]=void 0:(d[162]=new c.Map(),d[164]="share_to_comment_uri",d[163]=d[125].get(d[164]),d[163]!==void 0?d[162].set(d[164],d[163]):0,d[159]=d[162]),d[160]=d[159].keys(),d[161]=c.i64.of_int32(d[160].length),c.i64.neq(d[161],c.i64.cast([0,0]))?d[102].set(d[152],d[159]):0),d[153]="bot_proactive_message_type",d[127]=d[15].get(d[153]),c.i64.neq(d[127],void 0)?d[102].set(d[153],d[127]):0,d[154]="bot_proactive_nudge_type",d[128]=d[15].get(d[154]),c.i64.neq(d[128],void 0)?d[102].set(d[154],d[128]):0,d[155]="conversation_header",d[129]=d[15].get(d[155]),d[129]!==void 0?d[102].set(d[155],d[129]):0,d[156]="stream_status",d[130]=d[15].get(d[156]),d[130]!==void 0?d[102].set(d[156],d[130]):0,d[157]="stream_status_type",d[131]=d[15].get(d[157]),d[131]!==void 0?d[102].set(d[157],d[131]):0,d[99]=d[102]}])},function(a){return d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[72],d[99]):0}])},function(a){return d[73]="pobox",d[17]=d[1].get(d[73]),d[17]?d[18]=!1:d[18]=!0,d[18]?0:(d[17]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[105]="pobox_fbid",d[103]=d[17].get(d[105]),c.i64.neq(d[103],void 0)?(c.i64.neq(d[103],void 0)?d[107]=c.i64.to_string(d[103]):d[107]=void 0,d[102].set(d[105],d[107])):0,d[106]="pobox_id",d[104]=d[17].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[73],d[99]):0),d[74]="video",d[19]=d[1].get(d[74]),d[19]?d[20]=!1:d[20]=!0,d[20]?0:(d[19]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[104]="unified_upload_mos",d[103]=d[19].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[74],d[99]):0),d[75]="text_translation",d[21]=d[1].get(d[75]),d[21]?d[22]=!1:d[22]=!0,d[22]?0:(d[21]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[106]="translated_text",d[103]=d[21].get(d[106]),d[103]!==void 0?d[102].set(d[106],d[103]):0,d[107]="text_dialect",d[104]=d[21].get(d[107]),d[104]!==void 0?d[102].set(d[107],d[104]):0,d[108]="translated_text_dialect",d[105]=d[21].get(d[108]),d[105]!==void 0?d[102].set(d[108],d[105]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[75],d[99]):0),d[76]="memories",d[23]=d[1].get(d[76]),d[23]?d[24]=!1:d[24]=!0,d[24]?c.resolve():c.sequence([function(a){return d[23]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[110]="original_message_id",d[103]=d[23].get(d[110]),d[103]!==void 0?d[102].set(d[110],d[103]):0,d[111]="original_message_creation_ts",d[104]=d[23].get(d[111]),c.i64.neq(d[104],void 0)?(c.i64.neq(d[104],void 0)?d[116]=c.i64.to_string(d[104]):d[116]=void 0,d[102].set(d[111],d[116])):0,d[112]="memory_server_id",d[105]=d[23].get(d[112]),c.i64.neq(d[105],void 0)?(c.i64.neq(d[105],void 0)?d[116]=c.i64.to_string(d[105]):d[116]=void 0,d[102].set(d[112],d[116])):0,d[113]="memory_template_type",d[106]=d[23].get(d[113]),d[106]!==void 0?d[102].set(d[113],d[106]):0,d[114]="memory_context_messages",d[107]=d[23].get(d[114]),d[107]?d[108]=!1:d[108]=!0,d[108]?c.resolve():c.sequence([function(a){return d[107]?d[116]=!1:d[116]=!0,d[116]?c.resolve(d[117]=void 0):c.sequence([function(a){return d[119]=c.createArray(),d[120]=c.i64.of_int32(d[107].length),c.i64.gt(d[120],c.i64.cast([0,0]))?c.loopAsync(d[120],function(a){return d[121]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[107],d[121]).then(function(a){return a=a,d[122]=a[0],d[123]=a[1],a})},function(a){return d[124]=new c.Map(),d[129]="sender_id",d[125]=d[122].get(d[129]),c.i64.neq(d[125],void 0)?(c.i64.neq(d[125],void 0)?d[132]=c.i64.to_string(d[125]):d[132]=void 0,d[124].set(d[129],d[132])):0,d[130]="message_text",d[126]=d[122].get(d[130]),d[126]!==void 0?d[124].set(d[130],d[126]):0,d[131]="reactions",d[127]=d[122].get(d[131]),d[127]?d[128]=!1:d[128]=!0,d[128]?0:(d[132]=c.i64.of_int32(d[127].length),c.i64.neq(d[132],c.i64.cast([0,0]))?d[124].set(d[131],d[127]):0),d[132]=(d[119].push(d[124]),d[119])}])}):c.resolve()},function(a){return d[117]=d[119]}])},function(a){return d[118]=c.i64.of_int32(d[117].length),c.i64.neq(d[118],c.i64.cast([0,0]))?d[102].set(d[114],d[117]):0}])},function(a){return d[115]="is_memory_originating_thread",d[109]=d[23].get(d[115]),d[109]!==void 0?d[102].set(d[115],d[109]):0,d[99]=d[102]}])},function(a){return d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[76],d[99]):0}])},function(a){return d[77]="command",d[25]=d[1].get(d[77]),d[25]?d[26]=!1:d[26]=!0,d[26]?0:(d[25]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[104]="command_type",d[103]=d[25].get(d[104]),c.i64.neq(d[103],void 0)?d[102].set(d[104],d[103]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[77],d[99]):0),d[78]="admin_message",d[27]=d[1].get(d[78]),d[27]?d[28]=!1:d[28]=!0,d[28]?0:(d[27]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[113]="ad_client_token",d[103]=d[27].get(d[113]),d[103]!==void 0?d[102].set(d[113],d[103]):0,d[114]="ad_preference_url",d[104]=d[27].get(d[114]),d[104]!==void 0?d[102].set(d[114],d[104]):0,d[115]="ad_help_url",d[105]=d[27].get(d[115]),d[105]!==void 0?d[102].set(d[115],d[105]):0,d[116]="show_ad_choice_icon",d[106]=d[27].get(d[116]),d[106]!==void 0?d[102].set(d[116],d[106]):0,d[117]="title",d[107]=d[27].get(d[117]),d[107]!==void 0?d[102].set(d[117],d[107]):0,d[118]="action_url",d[108]=d[27].get(d[118]),d[108]!==void 0?d[102].set(d[118],d[108]):0,d[119]="admin_message_nickname_participant_id",d[109]=d[27].get(d[119]),c.i64.neq(d[109],void 0)?(c.i64.neq(d[109],void 0)?d[123]=c.i64.to_string(d[109]):d[123]=void 0,d[102].set(d[119],d[123])):0,d[120]="target_id",d[110]=d[27].get(d[120]),c.i64.neq(d[110],void 0)?(c.i64.neq(d[110],void 0)?d[123]=c.i64.to_string(d[110]):d[123]=void 0,d[102].set(d[120],d[123])):0,d[121]="target_title",d[111]=d[27].get(d[121]),d[111]!==void 0?d[102].set(d[121],d[111]):0,d[122]="identifier_name",d[112]=d[27].get(d[122]),d[112]!==void 0?d[102].set(d[122],d[112]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[78],d[99]):0),d[79]="misinfo_metadata",d[29]=d[1].get(d[79]),d[29]?d[30]=!1:d[30]=!0,d[30]?0:(d[29]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[105]="has_misinfo",d[103]=d[29].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="misinfo_source",d[104]=d[29].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[79],d[99]):0),d[80]="forwarded_message",d[31]=d[1].get(d[80]),d[31]?d[32]=!1:d[32]=!0,d[32]?0:(d[31]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[105]="forwarded_from_thread_name",d[103]=d[31].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="forwarded_from_thread_url",d[104]=d[31].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[80],d[99]):0),d[81]="ai_metadata",d[33]=d[1].get(d[81]),d[33]?d[34]=!1:d[34]=!0,d[34]?0:(d[33]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[109]="is_ai_generated",d[103]=d[33].get(d[109]),d[103]!==void 0?d[102].set(d[109],d[103]):0,d[110]="gen_ai_integrity_ent_id",d[104]=d[33].get(d[110]),c.i64.neq(d[104],void 0)?(c.i64.neq(d[104],void 0)?d[115]=c.i64.to_string(d[104]):d[115]=void 0,d[102].set(d[110],d[115])):0,d[111]="ai_product",d[105]=d[33].get(d[111]),d[105]!==void 0?d[102].set(d[111],d[105]):0,d[112]="original_prompt_text",d[106]=d[33].get(d[112]),d[106]!==void 0?d[102].set(d[112],d[106]):0,d[113]="imagine_intent_feature",d[107]=d[33].get(d[113]),d[107]!==void 0?d[102].set(d[113],d[107]):0,d[114]="imagine_media_id",d[108]=d[33].get(d[114]),c.i64.neq(d[108],void 0)?(c.i64.neq(d[108],void 0)?d[115]=c.i64.to_string(d[108]):d[115]=void 0,d[102].set(d[114],d[115])):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[81],d[99]):0),d[82]="encrypted_message",d[35]=d[1].get(d[82]),d[35]?d[36]=!1:d[36]=!0,d[36]?c.resolve():c.sequence([function(a){return d[35]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[110]="thread_id",d[103]=d[35].get(d[110]),d[103]!==void 0?d[102].set(d[110],d[103]):0,d[111]="offline_threading_id",d[104]=d[35].get(d[111]),d[104]!==void 0?d[102].set(d[111],d[104]):0,d[112]="toplevel_payload",d[105]=d[35].get(d[112]),d[105]?d[106]=!1:d[106]=!0,d[106]?0:(d[115]=new c.Map(),d[121]="encrypted_payload",d[116]=d[105].get(d[121]),d[116]!==void 0?d[115].set(d[121],d[116]):0,d[122]="payloadTimestampMs",d[117]=d[105].get(d[122]),c.i64.neq(d[117],void 0)?d[115].set(d[122],c.i64.to_string(d[117])):0,d[123]="encryption_version",d[118]=d[105].get(d[123]),c.i64.neq(d[118],void 0)?d[115].set(d[123],d[118]):0,d[124]="epoch_id",d[119]=d[105].get(d[124]),c.i64.neq(d[119],void 0)?d[115].set(d[124],c.i64.to_string(d[119])):0,d[125]="epoch_anon_id",d[120]=d[105].get(d[125]),d[120]!==void 0?d[115].set(d[125],d[120]):0,d[102].set(d[112],d[115])),d[113]="supplemental_payloads",d[107]=d[35].get(d[113]),d[107]?d[108]=!1:d[108]=!0,d[108]?c.resolve():c.sequence([function(a){return d[115]=c.createArray(),d[116]=c.i64.of_int32(d[107].length),c.i64.gt(d[116],c.i64.cast([0,0]))?c.loopAsync(d[116],function(a){return d[117]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[107],d[117]).then(function(a){return a=a,d[118]=a[0],d[119]=a[1],a})},function(a){return d[120]=new c.Map(),d[125]="encrypted_supplemental_key",d[121]=d[118].get(d[125]),d[121]!==void 0?d[120].set(d[125],d[121]):0,d[126]="supplemental_key_ciphertext",d[122]=d[118].get(d[126]),d[122]!==void 0?d[120].set(d[126],d[122]):0,d[127]="encrypted_supplemental_payload",d[123]=d[118].get(d[127]),d[123]?d[124]=!1:d[124]=!0,d[124]?0:(d[128]=new c.Map(),d[134]="encrypted_payload",d[129]=d[123].get(d[134]),d[129]!==void 0?d[128].set(d[134],d[129]):0,d[135]="payloadTimestampMs",d[130]=d[123].get(d[135]),c.i64.neq(d[130],void 0)?d[128].set(d[135],c.i64.to_string(d[130])):0,d[136]="encryption_version",d[131]=d[123].get(d[136]),c.i64.neq(d[131],void 0)?d[128].set(d[136],d[131]):0,d[137]="epoch_id",d[132]=d[123].get(d[137]),c.i64.neq(d[132],void 0)?d[128].set(d[137],c.i64.to_string(d[132])):0,d[138]="epoch_anon_id",d[133]=d[123].get(d[138]),d[133]!==void 0?d[128].set(d[138],d[133]):0,d[120].set(d[127],d[128])),d[128]=(d[115].push(d[120]),d[115])}])}):c.resolve()},function(a){return d[102].set(d[113],d[115])}])},function(a){return d[114]="is_open_eb",d[109]=d[35].get(d[114]),d[109]!==void 0?d[102].set(d[114],d[109]):0,d[99]=d[102]}])},function(a){return d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[82],d[99]):0}])},function(a){return d[83]="rich_text",d[37]=d[1].get(d[83]),d[37]?d[38]=!1:d[38]=!0,d[38]?0:(d[37]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[104]="rich_text_format_type",d[103]=d[37].get(d[104]),c.i64.neq(d[103],void 0)?d[102].set(d[104],d[103]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[83],d[99]):0),d[84]="content_logging_metadata",d[39]=d[1].get(d[84]),d[39]?d[40]=!1:d[40]=!0,d[40]?c.resolve():c.sequence([function(a){return d[39]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[108]="containing_post",d[103]=d[39].get(d[108]),d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[103]?d[111]=!1:d[111]=!0,d[111]?c.resolve(d[112]=void 0):c.sequence([function(a){return d[115]=new c.Map(),d[123]="key_type",d[116]=d[103].get(d[123]),d[116]!==void 0?d[115].set(d[123],d[116]):0,d[124]="fb_post_type",d[117]=d[103].get(d[124]),d[117]?d[118]=!1:d[118]=!0,d[118]?0:(d[127]=c.i64.of_int32(d[117].length),c.i64.neq(d[127],c.i64.cast([0,0]))?d[115].set(d[124],d[117]):0),d[125]="photos",d[119]=d[103].get(d[125]),d[119]?d[120]=!1:d[120]=!0,d[120]?c.resolve():c.sequence([function(a){return d[119]?d[127]=!1:d[127]=!0,d[127]?c.resolve(d[128]=void 0):c.sequence([function(a){return d[130]=c.createArray(),d[131]=c.i64.of_int32(d[119].length),c.i64.gt(d[131],c.i64.cast([0,0]))?c.loopAsync(d[131],function(a){return d[132]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[119],d[132]).then(function(a){return a=a,d[133]=a[0],d[134]=a[1],a})},function(a){return d[135]=new c.Map(),d[137]="key_type",d[136]=d[133].get(d[137]),d[136]!==void 0?d[135].set(d[137],d[136]):0,d[138]=(d[130].push(d[135]),d[130])}])}):c.resolve()},function(a){return d[128]=d[130]}])},function(a){return d[129]=c.i64.of_int32(d[128].length),c.i64.neq(d[129],c.i64.cast([0,0]))?d[115].set(d[125],d[128]):0}])},function(a){return d[126]="videos",d[121]=d[103].get(d[126]),d[121]?d[122]=!1:d[122]=!0,d[122]?c.resolve():c.sequence([function(a){return d[121]?d[127]=!1:d[127]=!0,d[127]?c.resolve(d[128]=void 0):c.sequence([function(a){return d[130]=c.createArray(),d[131]=c.i64.of_int32(d[121].length),c.i64.gt(d[131],c.i64.cast([0,0]))?c.loopAsync(d[131],function(a){return d[132]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[121],d[132]).then(function(a){return a=a,d[133]=a[0],d[134]=a[1],a})},function(a){return d[135]=new c.Map(),d[137]="key_type",d[136]=d[133].get(d[137]),d[136]!==void 0?d[135].set(d[137],d[136]):0,d[138]=(d[130].push(d[135]),d[130])}])}):c.resolve()},function(a){return d[128]=d[130]}])},function(a){return d[129]=c.i64.of_int32(d[128].length),c.i64.neq(d[129],c.i64.cast([0,0]))?d[115].set(d[126],d[128]):0}])},function(a){return d[112]=d[115]}])},function(a){return d[113]=d[112].keys(),d[114]=c.i64.of_int32(d[113].length),c.i64.neq(d[114],c.i64.cast([0,0]))?d[102].set(d[108],d[112]):0}])},function(a){return d[109]="metadata",d[105]=d[39].get(d[109]),d[105]?d[106]=!1:d[106]=!0,d[106]?0:(d[105]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[115]=d[105].get("__typename"),d[115]==="XMSGGroupsContentLoggingMetadata"?(d[117]=new c.Map(),d[119]="num_members",d[118]=d[105].get(d[119]),c.i64.neq(d[118],void 0)?d[117].set(d[119],d[118]):0,d[116]=d[117]):(d[115]==="XMSGStoriesContentLoggingMetadata"?(d[118]=new c.Map(),d[123]="author",d[119]=d[105].get(d[123]),d[119]?d[120]=!1:d[120]=!0,d[120]?0:(d[119]?d[126]=!1:d[126]=!0,d[126]?d[127]=void 0:(d[130]=new c.Map(),d[133]="profile",d[131]=d[119].get(d[133]),d[131]?d[132]=!1:d[132]=!0,d[132]?0:(d[131]?d[134]=!1:d[134]=!0,d[134]?d[135]=void 0:(d[138]=new c.Map(),d[140]="id",d[139]=d[131].get(d[140]),d[139]!==void 0?d[138].set(d[140],d[139]):0,d[135]=d[138]),d[136]=d[135].keys(),d[137]=c.i64.of_int32(d[136].length),c.i64.neq(d[137],c.i64.cast([0,0]))?d[130].set(d[133],d[135]):0),d[127]=d[130]),d[128]=d[127].keys(),d[129]=c.i64.of_int32(d[128].length),c.i64.neq(d[129],c.i64.cast([0,0]))?d[118].set(d[123],d[127]):0),d[124]="post_source",d[121]=d[105].get(d[124]),d[121]!==void 0?d[118].set(d[124],d[121]):0,d[125]="story_type",d[122]=d[105].get(d[125]),d[122]!==void 0?d[118].set(d[125],d[122]):0,d[117]=d[118]):d[117]=d[105],d[116]=d[117]),d[116].set("__typename",d[115]),d[112]=d[116]),d[113]=d[112].keys(),d[114]=c.i64.of_int32(d[113].length),c.i64.neq(d[114],c.i64.cast([0,0]))?d[102].set(d[109],d[112]):0),d[110]="hashed_content",d[107]=d[39].get(d[110]),d[107]!==void 0?d[102].set(d[110],d[107]):0,d[99]=d[102]}])},function(a){return d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[84],d[99]):0}])},function(a){return d[85]="suggested_moderation_actions",d[41]=d[1].get(d[85]),d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[106]="suggested_moderation_actions_list",d[103]=d[41].get(d[106]),d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[103]?d[108]=!1:d[108]=!0,d[108]?c.resolve(d[109]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[115]="suggested_moderation_actions",d[113]=d[103].get(d[115]),d[113]?d[114]=!1:d[114]=!0,d[114]?c.resolve():c.sequence([function(a){return d[113]?d[116]=!1:d[116]=!0,d[116]?c.resolve(d[117]=void 0):c.sequence([function(a){return d[119]=c.createArray(),d[120]=c.i64.of_int32(d[113].length),c.i64.gt(d[120],c.i64.cast([0,0]))?c.loopAsync(d[120],function(a){return d[121]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[113],d[121]).then(function(a){return a=a,d[122]=a[0],d[123]=a[1],a})},function(a){return d[124]=new c.Map(),d[127]="primary_action",d[125]=d[122].get(d[127]),d[125]!==void 0?d[124].set(d[127],d[125]):0,d[128]="chained_actions",d[126]=d[122].get(d[128]),d[126]!==void 0?d[124].set(d[128],d[126]):0,d[129]=(d[119].push(d[124]),d[119])}])}):c.resolve()},function(a){return d[117]=d[119]}])},function(a){return d[118]=c.i64.of_int32(d[117].length),c.i64.neq(d[118],c.i64.cast([0,0]))?d[112].set(d[115],d[117]):0}])},function(a){return d[109]=d[112]}])},function(a){return d[110]=d[109].keys(),d[111]=c.i64.of_int32(d[110].length),c.i64.neq(d[111],c.i64.cast([0,0]))?d[102].set(d[106],d[109]):0}])},function(a){return d[107]="suggested_moderation_actions_json",d[105]=d[41].get(d[107]),d[105]!==void 0?d[102].set(d[107],d[105]):0,d[99]=d[102]}])},function(a){return d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[85],d[99]):0}])},function(a){return d[86]="highlights_tab_custom_card_metadata",d[43]=d[1].get(d[86]),d[43]?d[44]=!1:d[44]=!0,d[44]?0:(d[43]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[105]="is_custom_card",d[103]=d[43].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="moment",d[104]=d[43].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[86],d[99]):0),d[87]="highlights_tab_metadata",d[45]=d[1].get(d[87]),d[45]?d[46]=!1:d[46]=!0,d[46]?0:(d[45]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[108]="reply_source_type",d[103]=d[45].get(d[108]),d[103]!==void 0?d[102].set(d[108],d[103]):0,d[109]="reply_metadata",d[104]=d[45].get(d[109]),d[104]?d[105]=!1:d[105]=!0,d[105]?0:(d[104]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[115]=d[104].get("__typename"),d[115]==="XMSGHighlightsTabBirthdayReplyMetadata"?(d[117]=new c.Map(),d[119]="birthday_age",d[118]=d[104].get(d[119]),c.i64.neq(d[118],void 0)?d[117].set(d[119],d[118]):0,d[116]=d[117]):(d[115]==="XMSGHighlightsTabAttributionReplyMetadata"?(d[118]=new c.Map(),d[120]="entry_point",d[119]=d[104].get(d[120]),c.i64.neq(d[119],void 0)?d[118].set(d[120],d[119]):0,d[117]=d[118]):d[117]=d[104],d[116]=d[117]),d[116].set("__typename",d[115]),d[112]=d[116]),d[113]=d[112].keys(),d[114]=c.i64.of_int32(d[113].length),c.i64.neq(d[114],c.i64.cast([0,0]))?d[102].set(d[109],d[112]):0),d[110]="moment_card_metadata",d[106]=d[45].get(d[110]),d[106]?d[107]=!1:d[107]=!0,d[107]?0:(d[106]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[115]=new c.Map(),d[117]="moment_card_type",d[116]=d[106].get(d[117]),d[116]!==void 0?d[115].set(d[117],d[116]):0,d[112]=d[115]),d[113]=d[112].keys(),d[114]=c.i64.of_int32(d[113].length),c.i64.neq(d[114],c.i64.cast([0,0]))?d[102].set(d[110],d[112]):0),d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[87],d[99]):0),d[88]="business_thread_response_feedback",d[47]=d[1].get(d[88]),d[47]?d[48]=!1:d[48]=!0,d[48]?0:(d[47]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[104]="is_feedback_button_enabled_for_message",d[103]=d[47].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[88],d[99]):0),d[89]="live_shopping_metadata",d[49]=d[1].get(d[89]),d[49]?d[50]=!1:d[50]=!0,d[50]?0:(d[49]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[104]="referral_post_id",d[103]=d[49].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[89],d[99]):0),d[90]="reply_metadata",d[51]=d[1].get(d[90]),d[51]?d[52]=!1:d[52]=!0,d[52]?0:(d[51]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[104]="is_markdown",d[103]=d[51].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[90],d[99]):0),d[91]="mustache_cta",d[53]=d[1].get(d[91]),d[53]?d[54]=!1:d[54]=!0,d[54]?0:(d[53]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[106]="cta_type",d[103]=d[53].get(d[106]),d[103]!==void 0?d[102].set(d[106],d[103]):0,d[107]="title",d[104]=d[53].get(d[107]),d[104]!==void 0?d[102].set(d[107],d[104]):0,d[108]="action_url",d[105]=d[53].get(d[108]),d[105]!==void 0?d[102].set(d[108],d[105]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[91],d[99]):0),d[92]="inline_entities",d[55]=d[1].get(d[92]),d[55]?d[56]=!1:d[56]=!0,d[56]?c.resolve():c.sequence([function(a){return d[55]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[107]="entities",d[103]=d[55].get(d[107]),d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[110]=c.createArray(),d[111]=c.i64.of_int32(d[103].length),c.i64.gt(d[111],c.i64.cast([0,0]))?c.loopAsync(d[111],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[103],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=new c.Map(),d[124]="offset",d[116]=d[113].get(d[124]),c.i64.neq(d[116],void 0)?d[115].set(d[124],d[116]):0,d[125]="length",d[117]=d[113].get(d[125]),c.i64.neq(d[117],void 0)?d[115].set(d[125],d[117]):0,d[126]="type",d[118]=d[113].get(d[126]),d[118]!==void 0?d[115].set(d[126],d[118]):0,d[127]="metadata",d[119]=d[113].get(d[127]),d[119]?d[120]=!1:d[120]=!0,d[120]?c.resolve():c.sequence([function(a){return d[119]?d[131]=!1:d[131]=!0,d[131]?c.resolve(d[132]=void 0):c.sequence([function(a){return d[135]=new c.Map(),d[142]="search_query",d[136]=d[119].get(d[142]),d[136]!==void 0?d[135].set(d[142],d[136]):0,d[143]="reminder_topic",d[137]=d[119].get(d[143]),d[137]!==void 0?d[135].set(d[143],d[137]):0,d[144]="thread_surfing_metadata",d[138]=d[119].get(d[144]),d[138]?d[139]=!1:d[139]=!0,d[139]?c.resolve():c.sequence([function(a){return d[138]?d[146]=!1:d[146]=!0,d[146]?c.resolve(d[147]=void 0):c.sequence([function(a){return d[150]=new c.Map(),d[156]="matched_entity",d[151]=d[138].get(d[156]),d[151]!==void 0?d[150].set(d[156],d[151]):0,d[157]="prompts",d[152]=d[138].get(d[157]),d[152]?d[153]=!1:d[153]=!0,d[153]?0:d[150].set(d[157],d[152]),d[158]="thread_surfing_prompts",d[154]=d[138].get(d[158]),d[154]?d[155]=!1:d[155]=!0,d[155]?c.resolve():c.sequence([function(a){return d[154]?d[159]=!1:d[159]=!0,d[159]?c.resolve(d[160]=void 0):c.sequence([function(a){return d[162]=c.createArray(),d[163]=c.i64.of_int32(d[154].length),c.i64.gt(d[163],c.i64.cast([0,0]))?c.loopAsync(d[163],function(a){return d[164]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[154],d[164]).then(function(a){return a=a,d[165]=a[0],d[166]=a[1],a})},function(a){return d[167]=new c.Map(),d[170]="prompt",d[168]=d[165].get(d[170]),d[168]!==void 0?d[167].set(d[170],d[168]):0,d[171]="prompt_id",d[169]=d[165].get(d[171]),d[169]!==void 0?d[167].set(d[171],d[169]):0,d[172]=(d[162].push(d[167]),d[162])}])}):c.resolve()},function(a){return d[160]=d[162]}])},function(a){return d[161]=c.i64.of_int32(d[160].length),c.i64.neq(d[161],c.i64.cast([0,0]))?d[150].set(d[158],d[160]):0}])},function(a){return d[147]=d[150]}])},function(a){return d[148]=d[147].keys(),d[149]=c.i64.of_int32(d[148].length),c.i64.neq(d[149],c.i64.cast([0,0]))?d[135].set(d[144],d[147]):0}])},function(a){return d[145]="ai_lookup_metadata",d[140]=d[119].get(d[145]),d[140]?d[141]=!1:d[141]=!0,d[141]?0:(d[140]?d[146]=!1:d[146]=!0,d[146]?d[147]=void 0:(d[150]=new c.Map(),d[153]="entity_type",d[151]=d[140].get(d[153]),d[151]!==void 0?d[150].set(d[153],d[151]):0,d[154]="action_type",d[152]=d[140].get(d[154]),d[152]!==void 0?d[150].set(d[154],d[152]):0,d[147]=d[150]),d[148]=d[147].keys(),d[149]=c.i64.of_int32(d[148].length),c.i64.neq(d[149],c.i64.cast([0,0]))?d[135].set(d[145],d[147]):0),d[132]=d[135]}])},function(a){return d[133]=d[132].keys(),d[134]=c.i64.of_int32(d[133].length),c.i64.neq(d[134],c.i64.cast([0,0]))?d[115].set(d[127],d[132]):0}])},function(a){return d[128]="action_label",d[121]=d[113].get(d[128]),d[121]!==void 0?d[115].set(d[128],d[121]):0,d[129]="context_token",d[122]=d[113].get(d[129]),d[122]!==void 0?d[115].set(d[129],d[122]):0,d[130]="context_token_type",d[123]=d[113].get(d[130]),c.i64.neq(d[123],void 0)?d[115].set(d[130],d[123]):0,d[131]=(d[110].push(d[115]),d[110])}])}):c.resolve()},function(a){return d[102].set(d[107],d[110])}])},function(a){return d[108]="inference_timestamp_ms",d[105]=d[55].get(d[108]),c.i64.neq(d[105],void 0)?(c.i64.neq(d[105],void 0)?d[110]=c.i64.to_string(d[105]):d[110]=void 0,d[102].set(d[108],d[110])):0,d[109]="inference_model_version",d[106]=d[55].get(d[109]),c.i64.neq(d[106],void 0)?d[102].set(d[109],d[106]):0,d[99]=d[102]}])},function(a){return d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[92],d[99]):0}])},function(a){return d[93]="note_metadata",d[57]=d[1].get(d[93]),d[57]?d[58]=!1:d[58]=!0,d[58]?c.resolve():c.sequence([function(a){return d[57]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[108]="message_type",d[103]=d[57].get(d[108]),d[103]!==void 0?d[102].set(d[108],d[103]):0,d[109]="note_type",d[104]=d[57].get(d[109]),c.i64.neq(d[104],void 0)?d[102].set(d[109],d[104]):0,d[110]="mentions",d[105]=d[57].get(d[110]),d[105]?d[106]=!1:d[106]=!0,d[106]?c.resolve():c.sequence([function(a){return d[112]=c.createArray(),d[113]=c.i64.of_int32(d[105].length),c.i64.gt(d[113],c.i64.cast([0,0]))?c.loopAsync(d[113],function(a){return d[114]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[105],d[114]).then(function(a){return a=a,d[115]=a[0],d[116]=a[1],a})},function(a){return d[117]=new c.Map(),d[120]="offset",d[118]=d[115].get(d[120]),c.i64.neq(d[118],void 0)?d[117].set(d[120],d[118]):0,d[121]="length",d[119]=d[115].get(d[121]),c.i64.neq(d[119],void 0)?d[117].set(d[121],d[119]):0,d[122]=(d[112].push(d[117]),d[112])}])}):c.resolve()},function(a){return d[102].set(d[110],d[112])}])},function(a){return d[111]="expiration_timestamp_ms",d[107]=d[57].get(d[111]),c.i64.neq(d[107],void 0)?d[102].set(d[111],c.i64.to_string(d[107])):0,d[99]=d[102]}])},function(a){return d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[93],d[99]):0}])},function(a){return d[94]="ai_bot_summon_metadata",d[59]=d[1].get(d[94]),d[59]?d[60]=!1:d[60]=!0,d[60]?0:(d[59]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[105]="is_e2ee_summon_message",d[103]=d[59].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="thread_session_id",d[104]=d[59].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[94],d[99]):0),d[95]="ai_forwarded_metadata",d[61]=d[1].get(d[95]),d[61]?d[62]=!1:d[62]=!0,d[62]?0:(d[61]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[104]="is_generated_by_meta_ai",d[103]=d[61].get(d[104]),d[103]!==void 0?d[102].set(d[104],d[103]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[95],d[99]):0),d[96]="transcription_metadata",d[63]=d[1].get(d[96]),d[63]?d[64]=!1:d[64]=!0,d[64]?0:(d[63]?d[98]=!1:d[98]=!0,d[98]?d[99]=void 0:(d[102]=new c.Map(),d[105]="text",d[103]=d[63].get(d[105]),d[103]!==void 0?d[102].set(d[105],d[103]):0,d[106]="status",d[104]=d[63].get(d[106]),d[104]!==void 0?d[102].set(d[106],d[104]):0,d[99]=d[102]),d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[96],d[99]):0),d[97]="image_glyphs_metadata",d[65]=d[1].get(d[97]),d[65]?d[66]=!1:d[66]=!0,d[66]?c.resolve():c.sequence([function(a){return d[65]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[105]="image_glyphs",d[103]=d[65].get(d[105]),d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[106]=c.createArray(),d[107]=c.i64.of_int32(d[103].length),c.i64.gt(d[107],c.i64.cast([0,0]))?c.loopAsync(d[107],function(a){return d[108]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[103],d[108]).then(function(a){return a=a,d[109]=a[0],d[110]=a[1],a})},function(a){return d[111]=new c.Map(),d[119]="offset",d[112]=d[109].get(d[119]),c.i64.neq(d[112],void 0)?d[111].set(d[119],d[112]):0,d[120]="length",d[113]=d[109].get(d[120]),c.i64.neq(d[113],void 0)?d[111].set(d[120],d[113]):0,d[121]="type",d[114]=d[109].get(d[121]),d[114]!==void 0?d[111].set(d[121],d[114]):0,d[122]="unique_identifier",d[115]=d[109].get(d[122]),d[115]!==void 0?d[111].set(d[122],d[115]):0,d[123]="content_description",d[116]=d[109].get(d[123]),d[116]!==void 0?d[111].set(d[123],d[116]):0,d[124]="uniform_type_identifier",d[117]=d[109].get(d[124]),d[117]!==void 0?d[111].set(d[124],d[117]):0,d[125]="fallback_text",d[118]=d[109].get(d[125]),d[118]!==void 0?d[111].set(d[125],d[118]):0,d[126]=(d[106].push(d[111]),d[106])}])}):c.resolve()},function(a){return d[102].set(d[105],d[106])}])},function(a){return d[99]=d[102]}])},function(a){return d[100]=d[99].keys(),d[101]=c.i64.of_int32(d[100].length),c.i64.neq(d[101],c.i64.cast([0,0]))?d[6].set(d[97],d[99]):0}])},function(a){return d[67]=c.toJSON(d[6]),d[5]=d[67]}])},function(b){return c.forEach(c.filter(c.db.table(12).fetch([[[a[0],a[1],a[2]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.timestampMs,a[1])&&b.messageId===a[2]}),function(b){var c=b.update;b.item;return c({adminMsgCtaId:d[0],adminMsgCtaTitle:a[3],adminMsgCtaType:a[4],metadataDataclass:d[5]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxApplyAdminMessageCTAStoredProcedure";a.__tables__=["admin_message_ctas","messages"];e.exports=a}),null);/*FB_PKG_DELIM*/
__d("LSAddParticipantIdToGroupThread",["LSComputeParticipantCapabilities"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSComputeParticipantCapabilities"),a[1],a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.gt(b.authorityLevel,a[9])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(14).put({threadKey:a[0],contactId:a[1],readWatermarkTimestampMs:a[2],readActionTimestampMs:a[3],deliveredWatermarkTimestampMs:a[4],nickname:a[5],normalizedSearchTerms:a[10],isAdmin:a[6],isSuperAdmin:a[13],subscribeSource:a[7],authorityLevel:a[9],participantCapabilities:d[0],groupParticipantJoinState:a[11],isModerator:a[12],threadRoles:a[14]}):0})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxAddParticipantIdToGroupThreadStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSClearPinnedMessages",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(205).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearPinnedMessagesStoredProcedure";a.__tables__=["msg_pinned_messages_v2"];e.exports=a}),null);
__d("LSDeleteBanner",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(118).fetch([[[a[1],a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.bannerId,a[0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSInThreadBannerDeleteBannerStoredProcedure";a.__tables__=["in_thread_banner"];e.exports=a}),null);
__d("LSDeleteExistingMessageRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(13).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteExistingMessageRangesStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSShimHybridThreadDeleteByThreadKey.nop",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){});function c(b,c,d){return a.apply(this,arguments)}return c}();f["default"]=a}),66);
__d("LSHybridThreadDelete",["LSShimHybridThreadDeleteByThreadKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.nativeOperation(b("LSShimHybridThreadDeleteByThreadKey.nop"),a[0])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxHybridThreadDeleteStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInsertAttachmentCta",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(19).add({ctaId:a[0],attachmentFbid:a[1],attachmentIndex:a[2],threadKey:a[3],messageId:a[5],title:a[6],type_:a[7],platformToken:a[8],actionUrl:a[9],nativeUrl:a[10],urlWebviewType:a[11],actionContentBlob:a[12],enableExtensions:a[13],extensionHeightType:a[14],targetId:a[15]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentCtaStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSInsertBlobAttachment",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(16).fetch([[[a[27],a[32],a[34]]]]),function(c){return b.i64.eq(c.threadKey,a[27])&&b.i64.eq(b.i64.cast([0,0]),a[28])&&c.messageId===a[32]&&c.attachmentFbid===a[34]&&b.i64.lt(c.authorityLevel,a[48])&&(b.i64.eq(c.attachmentType,b.i64.cast([0,2]))||b.i64.eq(c.attachmentType,b.i64.cast([0,3]))||b.i64.eq(c.attachmentType,b.i64.cast([0,4]))||b.i64.eq(c.attachmentType,b.i64.cast([0,5]))||b.i64.eq(c.attachmentType,b.i64.cast([0,6]))||b.i64.eq(c.attachmentType,b.i64.cast([0,10]))||b.i64.eq(c.attachmentType,b.i64.cast([0,14]))||b.i64.eq(c.attachmentType,b.i64.cast([0,15])))&&b.i64.eq(c.ephemeralMediaState,void 0)&&c.isSharable===!1}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({threadKey:a[27],messageId:a[32],attachmentFbid:a[34],filename:a[0],filesize:a[1],hasMedia:a[2],isSharable:!1,playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],dashManifest:a[7],previewUrl:a[8],previewUrlFallback:a[9],previewUrlExpirationTimestampMs:a[10],previewUrlMimeType:a[11],miniPreview:a[13],previewWidth:a[14],previewHeight:a[15],attributionAppId:a[16],attributionAppName:a[17],attributionAppIcon:a[18],attributionAppIconFallback:a[19],attributionAppIconUrlExpirationTimestampMs:a[20],localPlayableUrl:a[21],playableDurationMs:a[22],attachmentIndex:a[23],accessibilitySummaryText:a[24],isPreviewImage:a[25],originalFileHash:a[26],attachmentType:a[29],timestampMs:a[31],offlineAttachmentId:a[33],hasXma:a[35],xmaLayoutType:a[36],xmasTemplateType:a[37],titleText:a[38],subtitleText:a[39],descriptionText:a[40],sourceText:a[41],faviconUrlExpirationTimestampMs:a[42],isBorderless:a[44],previewUrlLarge:a[45],samplingFrequencyHz:a[46],waveformData:a[47],authorityLevel:a[48]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertBlobAttachmentStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSIssueInsertPersistentMenuItemsForThreadTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"insert_persistent_menu_items",c.i64.cast([0,117]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSetForwardScore",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(b){var c=b.update;b.item;return c({forwardScore:a[3]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetForwardScoreStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSTransportHybridParticipantUpdateReceipts",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTransportHybridParticipantUpdateReceiptsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateMetadataThreads.nop",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(a,c){return(g||(g=b("Promise"))).resolve()};f["default"]=a}),66);
__d("LSTruncateMetadataThreads",["LSTruncateMetadataThreads.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(a){return c.nativeOperation(b("LSTruncateMetadataThreads.nop"))},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTruncateMetadataThreadsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateThreadRangeTablesForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(10).fetch(),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.i64.eq(a[0],b.i64.cast([0,95]))?b.forEach(b.filter(b.db.table(10).fetch([[[b.i64.cast([0,0])],[b.i64.cast([-1,4294967295])]]]),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))&&(b.i64.eq(a.parentThreadKey,b.i64.cast([0,0]))||b.i64.eq(a.parentThreadKey,b.i64.cast([-1,4294967295])))}),function(a){return a["delete"]()}):b.resolve(0)},function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(247).fetch(),function(a){return b.i64.eq(a.syncGroup==null?b.i64.cast([0,1]):a.syncGroup,b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.resolve()},function(c){return b.forEach(b.db.table(198).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(c){return b.forEach(b.db.table(220).fetch([[[a[0]]]]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxTruncateThreadRangeTablesForSyncGroupStoredProcedure";a.__tables__=["threads_ranges_v2__generated","filtered_threads_ranges_v3__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSTruncateTablesForSyncGroup",["LSTruncateThreadRangeTablesForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(b){return c.forEach(c.filter(c.db.table(9).fetch(),function(b){return(c.i64.eq(b.syncGroup,a[0])||c.i64.eq(b.syncGroup,void 0)&&c.i64.eq(c.i64.cast([0,1]),a[0]))&&![c.i64.cast([0,17]),c.i64.cast([0,18]),c.i64.cast([0,19]),c.i64.cast([0,20]),c.i64.cast([0,21]),c.i64.cast([0,22]),c.i64.cast([0,23]),c.i64.cast([0,24]),c.i64.cast([0,25]),c.i64.cast([0,26]),c.i64.cast([0,27]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(b.threadType,a)})}),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSTruncateThreadRangeTablesForSyncGroup"),a[0])}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxTruncateTablesForSyncGroupStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateAttachmentItemCtaAtIndex",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[5],b.i64.cast([0,0]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({defaultCtaId:a[2],defaultCtaTitle:a[3],defaultCtaType:a[4]})}):b.i64.eq(a[5],b.i64.cast([0,1]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta1Id:a[2],cta1Title:a[3],cta1Type:a[4],cta1IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,2]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta2Id:a[2],cta2Title:a[3],cta2Type:a[4],cta2IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,3]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta3Id:a[2],cta3Title:a[3],cta3Type:a[4],cta3IconType:void 0})}):b.resolve(function(a){b.logger(a).warn(a)}("Unexpected CTA index"))},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateAttachmentItemCtaAtIndexStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSUpdateOrInsertCommunitySurfaceRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(253).put({surfaceType:a[0],communityKey:a[1],isLoadingAfter:!1,hasMoreAfter:a[2],nextPageCursor:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateOrInsertCommunitySurfaceRangeStoredProcedure";a.__tables__=["community_surface_ranges"];e.exports=a}),null);
__d("LSUpdateReadReceipt",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(14).fetch([[[a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[2])&&b.i64.lt(c.readWatermarkTimestampMs,a[0])}),function(c){var d=c.update;c=c.item;return d({readWatermarkTimestampMs:a[0],readActionTimestampMs:b.i64.gt(a[3],b.i64.cast([0,0]))?a[3]:c.readActionTimestampMs})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateReadReceiptStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSShimGetServerThreadKeyFromJIDV2.nop",["ReQL","RetUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(c)));return d("RetUtil").getNullableRetResult(b==null?void 0:b.serverThreadKey)});function c(b,c,d){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSReplaceOptimisticThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[1]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?b.forEach(b.filter(b.db.table(9).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.le(c.authorityLevel,b.i64.cast([0,20]))}),function(c){var d=c.update;c.item;return d({threadKey:a[1],authorityLevel:b.i64.cast([0,40])})}):(c.item,b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxReplaceOptimisticThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateOptimisticContextThreadKeys",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(32).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})},function(c){return b.forEach(b.filter(b.db.table(31).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateOptimisticContextThreadKeysStoredProcedure";a.__tables__=["threads_optimistic_context","messages_optimistic_context"];e.exports=a}),null);
__d("LSUpdateTaskQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b.item;return c({queueName:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateTaskValue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b=b.item;return c({taskValue:b.taskValue.split(a[1]).join(a[2])})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskValueStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMapping",["LSDeleteThread","LSReplaceOptimisticThread","LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateOptimisticContextThreadKeys","LSUpdateTaskQueueName","LSUpdateTaskValue"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[1]=!1:(a.item,d[1]=!0)})},function(b){return c.filter(c.db.table(9).fetch(),function(b){return c.i64.eq(b.threadKey,a[2])}).next().then(function(a,b){b=a.done;a=a.value;return b?d[3]=!1:(a.item,d[3]=!0)})},function(e){return d[5]=c.i64.neq(d[0],void 0),d[7]=c.i64.eq(d[0],a[2])&&d[5],!d[7]&&!(c.i64.eq(d[0],a[1])&&d[5])&&d[5]?function(a){c.logger(a).mustfix(a)}("The mi_act_mapping row did not correspond to either the authoritative or optimistic thread key."):0,c.i64.neq(a[2],void 0)?d[6]=a[2]:d[6]=c.i64.cast([0,0]),d[5]?d[7]?c.sequence([function(e){return d[1]?c.storedProcedure(b("LSDeleteThread"),a[1],!1):c.resolve()},function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):d[3]?c.storedProcedure(b("LSDeleteThread"),d[6],!1):c.resolve():d[3]?d[1]?c.storedProcedure(b("LSDeleteThread"),d[6],!1):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):c.resolve()},function(e){return d[3]?c.sequence([function(e){return d[9]=c.i64.to_string(d[6]),d[8]=c.i64.to_string(a[1]),c.storedProcedure(b("LSUpdateTaskQueueName"),d[9],d[8])},function(a){return c.storedProcedure(b("LSUpdateTaskValue"),d[8],d[9],d[8])}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID",["LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateThreadAuthorityAndMapping"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],a[1])?d[1]=d[0]:d[1]=void 0,c.storedProcedure(b("LSUpdateThreadAuthorityAndMapping"),a[0],a[1],d[1])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingWithOTIDFromJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateThreadsRangesV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(c){return b.forEach(b.db.table(10).fetch([[[a[1]]]]),function(a){return a["delete"]()})},function(d){return c[8]=b.i64.gt(a[2],b.i64.cast([0,1]))&&b.i64.gt(a[3],b.i64.cast([-2147483648,0])),a[0]==="inbox"&&b.i64.eq(a[1],b.i64.cast([0,0]))&&b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=a[2],c[10]=a[3],c[11]=!1,c[12]=c[8],b.forEach(b.db.table(198).fetch(),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],a}]):b.resolve((d=[a[2],a[3],!1,c[8]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],d))},function(d){return b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=c[0],c[10]=c[1],c[11]=c[2],c[12]=c[3],b.forEach(b.filter(b.db.table(220).fetch(),function(c){return b.i64.eq(c.parentThreadKey,a[1])}),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[4]=a[0],c[5]=a[1],c[6]=a[2],c[7]=a[3],a}]):b.resolve((d=[c[0],c[1],c[2],c[3]],c[4]=d[0],c[5]=d[1],c[6]=d[2],c[7]=d[3],d))},function(d){return b.db.table(10).add({parentThreadKey:a[1],minThreadKey:c[5]==null?b.i64.cast([-2147483648,0]):c[5],minLastActivityTimestampMs:c[4]==null?b.i64.cast([0,1]):c[4],maxLastActivityTimestampMs:b.i64.cast([0,1]),maxThreadKey:b.i64.cast([-2147483648,0]),isLoadingBefore:c[6],isLoadingAfter:!1,hasMoreBefore:c[7],hasMoreAfter:!1})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateThreadsRangesV2StoredProcedure";a.__tables__=["threads_ranges_v2__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSUpsertFolderSeenTimestamp",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.gt(a[1],b.i64.cast([0,0]))?b.db.table(35).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:a[1]}):(d=c.item,b.i64.lt(d.lastSeenRequestTimestampMs,a[1])?b.forEach(b.db.table(35).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastSeenRequestTimestampMs:a[1]})}):b.resolve())}):b.resolve()},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertFolderSeenTimestampStoredProcedure";a.__tables__=["folder_metadata"];e.exports=a}),null);
__d("LSUpsertMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(12).fetch([[[a[9]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:a[6],senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:a[7],stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):(d=c.item,b.i64.le(d.authorityLevel,a[2])?b.db.table(12).put({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:d.primarySortKey,senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:d.secondarySortKey,stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):b.resolve())})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertMessageStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSWriteThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({capabilities:a[1],capabilities2:a[2],capabilities3:a[3],capabilities4:a[4],capabilities5:a[5]})}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxWriteThreadCapabilitiesStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSExpandedStaticDependencies",["LSAddParticipantIdToGroupThread","LSClearPinnedMessages","LSDeleteBanner","LSDeleteExistingMessageRanges","LSGetFirstAvailableAttachmentCTAID","LSHybridThreadDelete","LSInsertAttachmentCta","LSInsertAttachmentItem","LSInsertBlobAttachment","LSInsertNewMessageRange","LSIssueInsertPersistentMenuItemsForThreadTask","LSSetForwardScore","LSSetMessageDisplayedContentTypes","LSStaticDependencies","LSTransportHybridParticipantUpdateReceipts","LSTruncateMetadataThreads","LSTruncateTablesForSyncGroup","LSUpdateAttachmentItemCtaAtIndex","LSUpdateOrInsertCommunitySurfaceRange","LSUpdateOrInsertThread","LSUpdateReadReceipt","LSUpdateThreadAuthorityAndMappingWithOTIDFromJID","LSUpdateThreadsRangesV2","LSUpsertFolderSeenTimestamp","LSUpsertInboxThreadsRange","LSUpsertMessage","LSUpsertReaction","LSUpsertSyncGroupThreadsRange","LSWriteThreadCapabilities"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},c("LSStaticDependencies"),{addParticipantIdToGroupThread:c("LSAddParticipantIdToGroupThread"),clearPinnedMessages:c("LSClearPinnedMessages"),deleteBanner:c("LSDeleteBanner"),deleteExistingMessageRanges:c("LSDeleteExistingMessageRanges"),getFirstAvailableAttachmentCTAID:c("LSGetFirstAvailableAttachmentCTAID"),hybridThreadDelete:c("LSHybridThreadDelete"),insertAttachmentCta:c("LSInsertAttachmentCta"),insertAttachmentItem:c("LSInsertAttachmentItem"),insertBlobAttachment:c("LSInsertBlobAttachment"),insertNewMessageRange:c("LSInsertNewMessageRange"),issueInsertPersistentMenuItemsForThreadTask:c("LSIssueInsertPersistentMenuItemsForThreadTask"),setForwardScore:c("LSSetForwardScore"),setMessageDisplayedContentTypes:c("LSSetMessageDisplayedContentTypes"),transportHybridParticipantUpdateReceipts:c("LSTransportHybridParticipantUpdateReceipts"),truncateMetadataThreads:c("LSTruncateMetadataThreads"),truncateTablesForSyncGroup:c("LSTruncateTablesForSyncGroup"),updateAttachmentItemCtaAtIndex:c("LSUpdateAttachmentItemCtaAtIndex"),updateOrInsertCommunitySurfaceRange:c("LSUpdateOrInsertCommunitySurfaceRange"),updateOrInsertThread:c("LSUpdateOrInsertThread"),updateReadReceipt:c("LSUpdateReadReceipt"),updateThreadAuthorityAndMappingWithOTIDFromJID:c("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID"),updateThreadsRangesV2:c("LSUpdateThreadsRangesV2"),upsertFolderSeenTimestamp:c("LSUpsertFolderSeenTimestamp"),upsertInboxThreadsRange:c("LSUpsertInboxThreadsRange"),upsertMessage:c("LSUpsertMessage"),upsertReaction:c("LSUpsertReaction"),upsertSyncGroupThreadsRange:c("LSUpsertSyncGroupThreadsRange"),writeThreadCapabilities:c("LSWriteThreadCapabilities")});b=a;g["default"]=b}),98);
__d("LSIssueCommunityChannelListFetch",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("community_id",a[0]),d[0].set("forward_cursor",a[1]),d[0].set("channel_join_status",a[2]),d[1]=d[0].get("community_id"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,338]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueCommunityChannelListFetchStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSetHMPSStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxSetHMPSStatusStoredProcedure";a.__tables__=[];e.exports=a}),null);/*FB_PKG_DELIM*/
__d("LSGetParentThreadKey",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,0]):(d=a.item,c[0]=d.parentThreadKey)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetParentThreadKeyStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateFolderThreadSnippet",["LSArrayGetObjectAt","LSGetThreadParticipantDisplayName","LSGetViewerFBID","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.resolve(d[3]=a[1]):c.sequence([function(b){return d[4]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[7]=(d[4].push(a.threadKey),d[4])})},function(a){return c.sequence([function(a){return d[7]=c.createArray(),d[8]=c.i64.of_int32(d[4].length),c.i64.gt(d[8],c.i64.cast([0,0]))?c.loopAsync(d[8],function(a){return d[10]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],d[10]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(a){return d[13]=(d[7].push(c.i64.to_string(d[11])),d[7])}])}):c.resolve()},function(a){return d[9]=d[7].join(","),d[5]=d[9]}])},function(a){return c.count(c.filter(c.db.table(9).fetch(),function(a){return d[4].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&!0&&!0})).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[1]=d[3]}]):c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.resolve(d[3]=a[1]):c.sequence([function(b){return c.count(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.lt(b.lastReadWatermarkTimestampMs,b.lastActivityTimestampMs)&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))&&c.i64.eq(b.syncSource,c.i64.cast([0,2])))})).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}])},function(a){return d[1]=d[3]}])},function(e){return c.i64.eq(d[1],c.i64.cast([0,0]))?c.sequence([function(b){return d[3]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[8]=(d[3].push(a.threadKey),d[3])})},function(a){return c.sequence([function(a){return d[8]=c.createArray(),d[9]=c.i64.of_int32(d[3].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(a){return d[11]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[3],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return d[14]=(d[8].push(c.i64.to_string(d[12])),d[8])}])}):c.resolve()},function(a){return d[10]=d[8].join(","),d[4]=d[10]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[5]=a[0],a})},function(a){return c.count(c.filter(c.db.table(9).fetch(),function(a){return d[3].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.eq(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&c.i64.neq(a.snippetSenderContactId,d[5])&&a.isAdminSnippet===!1})).then(function(a){return d[6]=a})},function(e){return c.i64.eq(c.i64.cast([0,0]),d[6])?c.resolve((d[8]=a[2].get("all_read"),d[7]=d[8])):c.sequence([function(b){return d[8]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[19]=(d[8].push(a.threadKey),d[8])})},function(a){return c.sequence([function(a){return d[19]=c.createArray(),d[20]=c.i64.of_int32(d[8].length),c.i64.gt(d[20],c.i64.cast([0,0]))?c.loopAsync(d[20],function(a){return d[22]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[22]).then(function(a){return a=a,d[23]=a[0],d[24]=a[1],a})},function(a){return d[25]=(d[19].push(c.i64.to_string(d[23])),d[19])}])}):c.resolve()},function(a){return d[21]=d[19].join(","),d[9]=d[21]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.islc(c.filter(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),function(a){return d[8].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.eq(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&c.i64.neq(a.snippetSenderContactId,d[10])&&a.isAdminSnippet===!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=["",c.i64.cast([-1,4294967295])],d[11]=a[0],d[12]=a[1],a):(e=b.item,a=[e.snippet,e.threadKey],d[11]=a[0],d[12]=a[1],a)})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.islc(c.db.table(14).fetch([[[d[12],{gt:d[14]}],[d[12],{lt:d[14]}]]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?d[15]=c.i64.cast([-1,4294967295]):(e=b.item,d[15]=e.contactId)})},function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[12],d[15]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.i64.eq(d[6],c.i64.cast([0,1]))?c.sequence([function(a){return d[19]=c.createArray(),d[21]=(d[19].push(d[17]),d[19]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1907280305]),d[19]).then(function(a){return d[20]=a})},function(a){return d[18]=d[20]}]):c.sequence([function(a){return d[19]=c.createArray(),d[21]=(d[19].push(d[17]),d[19]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1112375422]),d[19]).then(function(a){return d[20]=a})},function(a){return d[18]=d[20]}])},function(a){return d[7]=d[18]}])},function(a){return d[2]=d[7]}]):c.sequence([function(e){return c.i64.eq(d[1],c.i64.cast([0,1]))?c.sequence([function(b){return d[4]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[10]=(d[4].push(a.threadKey),d[4])})},function(a){return c.sequence([function(a){return d[10]=c.createArray(),d[11]=c.i64.of_int32(d[4].length),c.i64.gt(d[11],c.i64.cast([0,0]))?c.loopAsync(d[11],function(a){return d[13]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(a){return d[16]=(d[10].push(c.i64.to_string(d[14])),d[10])}])}):c.resolve()},function(a){return d[12]=d[10].join(","),d[5]=d[12]}])},function(a){return c.islc(c.filter(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),function(a){return d[4].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&!0&&a.isAdminSnippet===!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=["",c.i64.cast([-1,4294967295])],d[6]=a[0],d[7]=a[1],a):(e=b.item,a=[e.snippet,e.threadKey],d[6]=a[0],d[7]=a[1],a)})},function(b){return d[6]!==void 0?d[9]=d[6]:(d[10]=a[2].get("unread_singular"),d[9]=[c.i64.to_string(d[1]),d[10]].join("")),d[3]=d[9]}]):c.sequence([function(a){return d[4]=c.createArray(),d[6]=(d[4].push(c.i64.to_string(d[1])),d[4]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3575257287]),d[4]).then(function(a){return d[5]=a})},function(a){return d[3]=d[5]}])},function(a){return d[2]=d[3]}])},function(a){return d[0]=d[2]}]):c.sequence([function(e){return c.i64.eq(f.threadType,c.i64.cast([0,17]))?c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.resolve(d[4]=a[1]):c.sequence([function(b){return d[5]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[8]=(d[5].push(a.threadKey),d[5])})},function(a){return c.sequence([function(a){return d[8]=c.createArray(),d[9]=c.i64.of_int32(d[5].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(a){return d[11]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[5],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return d[14]=(d[8].push(c.i64.to_string(d[12])),d[8])}])}):c.resolve()},function(a){return d[10]=d[8].join(","),d[6]=d[10]}])},function(a){return c.count(c.filter(c.db.table(9).fetch(),function(a){return d[5].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&!0&&!0})).then(function(a){return d[7]=a})},function(a){return d[4]=d[7]}])},function(a){return d[2]=d[4]}]):c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.resolve(d[4]=a[1]):c.sequence([function(b){return c.count(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.lt(b.lastReadWatermarkTimestampMs,b.lastActivityTimestampMs)&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))&&c.i64.eq(b.syncSource,c.i64.cast([0,2])))})).then(function(a){return d[5]=a})},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(e){return c.sequence([function(e){return c.i64.eq(d[2],c.i64.cast([0,0]))?c.sequence([function(b){return c.count(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&[c.i64.cast([0,18]),c.i64.cast([0,19]),c.i64.cast([0,27]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(b.threadType,a)})})).then(function(a){return d[5]=a})},function(a){return c.i64.eq(d[5],c.i64.cast([0,1]))?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1416259530]),void 0).then(function(a){return d[7]=a})},function(a){return d[6]=d[7]}]):c.sequence([function(a){return d[7]=c.createArray(),d[9]=(d[7].push(c.i64.to_string(d[5])),d[7]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1681736754]),d[7]).then(function(a){return d[8]=a})},function(a){return d[6]=d[8]}])},function(a){return d[4]=d[6]}]):c.sequence([function(a){return c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3802288555]),void 0).then(function(a){return d[6]=a})},function(a){return c.resolve(d[7]=d[6])},function(a){return d[5]=d[7]}]):c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(c.i64.to_string(d[2])),d[6]),b("LSLocalize").localizeV2Async(c.i64.cast([0,1420387436]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}])},function(a){return d[4]=d[5]}])},function(a){return d[3]=d[4]}])},function(a){return d[1]=d[3]}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.resolve(d[7]=a[1]):c.sequence([function(b){return d[8]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[11]=(d[8].push(a.threadKey),d[8])})},function(a){return c.sequence([function(a){return d[11]=c.createArray(),d[12]=c.i64.of_int32(d[8].length),c.i64.gt(d[12],c.i64.cast([0,0]))?c.loopAsync(d[12],function(a){return d[14]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return d[17]=(d[11].push(c.i64.to_string(d[15])),d[11])}])}):c.resolve()},function(a){return d[13]=d[11].join(","),d[9]=d[13]}])},function(a){return c.count(c.filter(c.db.table(9).fetch(),function(a){return d[8].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&!0&&!0})).then(function(a){return d[10]=a})},function(a){return d[7]=d[10]}])},function(a){return d[2]=d[7]}]):c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.resolve(d[7]=a[1]):c.sequence([function(b){return c.count(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.lt(b.lastReadWatermarkTimestampMs,b.lastActivityTimestampMs)&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))&&c.i64.eq(b.syncSource,c.i64.cast([0,2])))})).then(function(a){return d[8]=a})},function(a){return d[7]=d[8]}])},function(a){return d[2]=d[7]}])},function(b){return d[3]=a[2].get("all_read"),d[4]=a[2].get("unread_singular"),d[5]=a[2].get("unread_plural"),c.i64.eq(d[2],c.i64.cast([0,0]))?d[6]=d[3]:(c.i64.eq(d[2],c.i64.cast([0,1]))?d[7]=[c.i64.to_string(d[2]),d[4]].join(""):d[7]=[c.i64.to_string(d[2]),d[5]].join(""),d[6]=d[7]),d[1]=d[6]}])},function(a){return d[0]=d[1]}])},function(a){return c.forEach(c.db.table(9).fetch([[[f.threadKey]]]),function(a){var b=a.update;a.item;return b({snippet:d[0],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0})})}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateFolderThreadSnippetStoredProcedure";a.__tables__=["threads","participants","messages","attachments"];e.exports=a}),null);
__d("LSUpdateParentFolderReadWatermark",["LSArrayGetObjectAt","LSGetParentThreadKey","LSUpdateFolderThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSGetParentThreadKey"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],c.i64.cast([0,0]))?c.sequence([function(a){return c.i64.eq(d[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(a){return d[2]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[d[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[6]=(d[2].push(a.threadKey),d[2])})},function(a){return c.sequence([function(a){return d[6]=c.createArray(),d[7]=c.i64.of_int32(d[2].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(a){return d[9]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[2],d[9]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],a})},function(a){return d[12]=(d[6].push(c.i64.to_string(d[10])),d[6])}])}):c.resolve()},function(a){return d[8]=d[6].join(","),d[3]=d[8]}])},function(a){return c.sortBy(c.filter(c.db.table(9).fetch(),function(a){return d[2].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)}),[["lastReadWatermarkTimestampMs","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[4]=void 0:(b=a.item,d[4]=b.lastReadWatermarkTimestampMs)})},function(a){return d[1]=d[4]}]):c.sequence([function(a){return c.sortBy(c.filter(c.db.table(9).fetch([[[d[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(a){return c.i64.eq(a.parentThreadKey,d[0])&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)}),[["lastReadWatermarkTimestampMs","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.lastReadWatermarkTimestampMs)})},function(a){return d[1]=d[2]}])},function(a){return c.i64.neq(d[1],void 0)?c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:d[1]})}):c.sequence([function(a){return c.db.table(9).fetch([[[d[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.lastActivityTimestampMs)})},function(a){return c.i64.neq(d[2],void 0)?c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:d[2]})}):c.resolve()}])},function(e){return c.storedProcedure(b("LSUpdateFolderThreadSnippet"),d[0],void 0,a[1])}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateParentFolderReadWatermarkStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);/*FB_PKG_DELIM*/
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("FDSDialogFooterButtonGroupItem.react",["CometColumnItem.react","FDSButtonGroup.react","XPlatReactEnvironment","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e,f,g,h;b[0]!==a?(h=a.expanding,f=a.primary,g=a.secondary,e=babelHelpers.objectWithoutPropertiesLoose(a,["expanding","primary","secondary"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);a=h===void 0?!0:h;h=d("XPlatReactEnvironment").isWeb()?a:!1;b[5]!==e||b[6]!==f||b[7]!==g?(a=i.jsx(c("FDSButtonGroup.react"),babelHelpers["extends"]({paddingHorizontal:0,paddingTop:0,primary:f,secondary:g},e)),b[5]=e,b[6]=f,b[7]=g,b[8]=a):a=b[8];b[9]!==h||b[10]!==a?(e=i.jsx(c("CometColumnItem.react"),{expanding:h,paddingVertical:16,children:a}),b[9]=h,b[10]=a,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("FDSDialogButtonGroupFooter.react",["FDSDialogFooterButtonGroupItem.react","FDSDialogFooterContainer.react","FDSDialogMetaTextItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e,f,g;b[0]!==a?(f=a.meta,g=a.metaPosition,e=babelHelpers.objectWithoutPropertiesLoose(a,["meta","metaPosition"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=g===void 0?"above":g;g=f!=null&&a==="above";var h=f!=null&&a==="below",j;b[4]!==g||b[5]!==f||b[6]!==a?(j=g&&i.jsx(c("FDSDialogMetaTextItem.react"),{meta:f,metaPosition:a}),b[4]=g,b[5]=f,b[6]=a,b[7]=j):j=b[7];b[8]!==e?(g=i.jsx(c("FDSDialogFooterButtonGroupItem.react"),babelHelpers["extends"]({},e)),b[8]=e,b[9]=g):g=b[9];b[10]!==h||b[11]!==f||b[12]!==a?(e=h&&i.jsx(c("FDSDialogMetaTextItem.react"),{meta:f,metaPosition:a}),b[10]=h,b[11]=f,b[12]=a,b[13]=e):e=b[13];b[14]!==j||b[15]!==g||b[16]!==e?(h=i.jsxs(c("FDSDialogFooterContainer.react"),{children:[j,g,e]}),b[14]=j,b[15]=g,b[16]=e,b[17]=h):h=b[17];return h}g["default"]=a}),98);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",c.i64.cast([0,72]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSInThreadBannerFetchBannersStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("MWLSGroupMembershipDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24611402268507092"}),null);
__d("MWXButton.react",["cr:1329","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){var e=d("react-compiler-runtime").c(5),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];e[2]!==f||e[3]!==c?(a=i.jsx(b("cr:1329"),babelHelpers["extends"]({ref:c},f)),e[2]=f,e[3]=c,e[4]=a):a=e[4];return a}e=c;g["default"]=e}),98);
__d("MWXButtonImpl.react",["cr:10054","cr:2625","cr:5028","cr:8931","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){var e=d("react-compiler-runtime").c(27),f,g,h,j,k,l;e[0]!==a?(g=a.icon,h=a.isContainerTarget,j=a.loading,k=a.size,l=a.type,f=babelHelpers.objectWithoutPropertiesLoose(a,["icon","isContainerTarget","loading","size","type"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=j,e[5]=k,e[6]=l):(f=e[1],g=e[2],h=e[3],j=e[4],k=e[5],l=e[6]);if(b("cr:10054")){var m;a=k===36;var n;e[7]!==a||e[8]!==j?(n=j===!0&&b("cr:8931")?i.jsx(b("cr:8931"),{color:"disabled_DEPRECATED",size:a?20:16}):void 0,e[7]=a,e[8]=j,e[9]=n):n=e[9];m=(m=g)==null?void 0:m.component;a=a?"large":"medium";var o=l==="destructive"?"fdsOverride_negative":l,p;e[10]!==f||e[11]!==c||e[12]!==n||e[13]!==m||e[14]!==a||e[15]!==o?(p=i.jsx(b("cr:10054"),babelHelpers["extends"]({addOnPrimary:n,icon:m,ref:c,size:a,type:o},f)),e[10]=f,e[11]=c,e[12]=n,e[13]=m,e[14]=a,e[15]=o,e[16]=p):p=e[16];return p}if(b("cr:2625")){e[17]!==j?(n=j===!0&&b("cr:5028")?i.jsx(b("cr:5028"),{color:"grey",size:24}):void 0,e[17]=j,e[18]=n):n=e[18];a=(m=g)==null?void 0:m.originalComponent;e[19]!==f||e[20]!==h||e[21]!==c||e[22]!==k||e[23]!==n||e[24]!==a||e[25]!==l?(o=i.jsx(b("cr:2625"),babelHelpers["extends"]({addOnStart:n,icon:a,isContainerTarget:h,ref:c,size:k,type:l},f)),e[19]=f,e[20]=h,e[21]=c,e[22]=k,e[23]=n,e[24]=a,e[25]=l,e[26]=o):o=e[26];return o}return null}e=c;g["default"]=e}),98);
__d("MWXIconDocument",["MWXSvgIcon","SVGIcon","cr:12395","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12395")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconForListCell.react",["MWXIconStrict.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23219")?16:20,k=c("gkx")("23219")?28:36;function a(a){var b=d("react-compiler-runtime").c(5),e=a.color,f=a.hasBackground,g=a.icon;a=a.size;f=f===void 0?!0:f;a=a===void 0?"medium":a;a==="medium"?a=f?k:j:a=f?36:20;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=i.jsx(c("MWXIconStrict.react"),{backgroundEnabled:f,color:e,icon:g,size:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("VideoPlayerHTML5ApiWebVttState",["Bootloader","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this,d=a.onReady,e=a.onCaptionsLoaded,f=a.captionsDisplay;this.$1=null;this.source=null;this.captionsDisplay=null;this.$1=c("Bootloader").loadModules(["VideoPlayerWebVttCaptionsSource"],function(a){a=new a({onCaptionsLoaded:e,onCaptionsChanged:function(a,c){b.captionsDisplay&&b.captionsDisplay.handleCaptionsChanged(a,c)}});b.source=a;b.captionsDisplay=f;d(b)},"VideoPlayerHTML5ApiWebVttState")}var b=a.prototype;b.loadFromUrl=function(a){var b=this.source;if(!b)throw c("unrecoverableViolation")("[VideoPlayerHTML5ApiWebVttState] Called loadFromUrl when not ready; call from onReady callback.","video_captions");b.loadFromUrl(a)};b.getCurrentScreenRepresentation=function(){return this.source?this.source.getCurrentScreenRepresentation():null};b.destroy=function(){this.$1&&(this.$1.remove(),this.$1=null),this.captionsDisplay&&(this.captionsDisplay.destroy(),this.captionsDisplay=null),this.source&&(this.source.destroy(),this.source=null)};return a}();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSGetFirstAvailableThreadNullstateCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(29).fetchDesc().next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableThreadNullstateCTAIDStoredProcedure";a.__tables__=["thread_nullstate_ctas"];e.exports=a}),null);
__d("LSGetFirstAvailableThreadNullstateCTAIDForThreadKey",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(29).fetch([[[a[0]]],"threadKeyCtaId"]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.ctaId)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableThreadNullstateCTAIDForThreadKeyStoredProcedure";a.__tables__=["thread_nullstate_ctas"];e.exports=a}),null);
__d("LSInsertIcebreakerData",["LSArrayGetObjectAt","LSGetFirstAvailableThreadNullstateCTAID","LSGetFirstAvailableThreadNullstateCTAIDForThreadKey"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSGetFirstAvailableThreadNullstateCTAIDForThreadKey"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.eq(d[0],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetFirstAvailableThreadNullstateCTAID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=c.createArray(),d[3]=c.i64.of_int32(a[1].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[7]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return d[10]=d[8].get("thread_key"),d[11]=(d[2].push(d[10]),d[2])}])}):c.resolve()},function(a){return d[4]=new c.Map(),c.sequence([function(a){return d[7]=c.createArray(),d[8]=c.i64.of_int32(d[2].length),c.i64.gt(d[8],c.i64.cast([0,0]))?c.loopAsync(d[8],function(a){return d[10]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[2],d[10]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(a){return d[13]=(d[7].push(c.i64.to_string(d[11])),d[7])}])}):c.resolve()},function(a){return d[9]=d[7].join(","),d[5]=d[9]}])},function(a){return c.forEach(c.filter(c.db.table(28).fetch(),function(a){return d[2].some(function(b){return c.i64.eq(a.threadKey,b)})}),function(a){a=a.item;return d[4].set(c.i64.to_string(a.threadKey),!0)})},function(e){return d[6]=c.i64.of_int32(a[1].length),c.i64.gt(d[6],c.i64.cast([0,0]))?c.loopAsync(d[6],function(e){return d[7]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return d[12]=c.i64.add(d[1],d[7]),d[10]=d[8].get("thread_key"),d[11]=d[4].get(c.i64.to_string(d[10])),d[11]!==void 0?c.db.table(29).fetch([[[d[12]]]]).next().then(function(a){var b=a.done;a.value;return b?(d[13]=d[8].get("thread_key"),d[14]=d[8].get("title"),d[15]=d[8].get("cta_type"),d[16]=d[8].get("platform_token"),d[17]=d[8].get("cta_identifier"),c.db.table(29).add({ctaId:d[12],threadKey:d[13],title:d[14],ctaType:d[15],platformToken:d[16],ctaIdentifier:d[17]})):0}):c.resolve()}])}):c.resolve()}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertIcebreakerDataStoredProcedure";a.__tables__=["thread_nullstate","thread_nullstate_ctas"];e.exports=a}),null);
__d("LSIssueInsertPersistentMenuCtasForThreadTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"insert_persistent_menu_ctas",c.i64.cast([0,54]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSComposerMenusIssueInsertPersistentMenuCtasForThreadTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpsertFolder",["LSUpdateFolderThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.neq(a[3],void 0)?c.resolve(d[0]=a[3]):c.sequence([function(b){return c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[3]=c.i64.cast([0,0]):(b=a.item,d[3]=b.lastActivityTimestampMs)})},function(a){return d[0]=d[3]}])},function(b){return c.i64.neq(a[4],void 0)?c.resolve(d[1]=a[4]):c.sequence([function(b){return c.sortBy(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.lt(b.lastReadWatermarkTimestampMs,b.lastActivityTimestampMs)}),[["lastReadWatermarkTimestampMs","ASC"]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.i64.neq(a[3],void 0)?c.resolve(d[5]=a[3]):c.sequence([function(b){return c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[6]=c.i64.cast([0,0]):(e=b.item,d[6]=e.lastActivityTimestampMs)})},function(a){return d[5]=d[6]}])},function(a){return d[3]=d[5]}]):(e=b.item,d[3]=e.lastReadWatermarkTimestampMs)})},function(a){return d[1]=d[3]}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.sequence([function(b){return c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,6]),threadName:a[1],folderName:"",parentThreadKey:c.i64.cast([0,0]),threadPictureUrl:a[2],lastActivityTimestampMs:d[0],lastReadWatermarkTimestampMs:d[1],removeWatermarkTimestampMs:c.i64.cast([0,0]),muteExpireTimeMs:c.i64.cast([0,0]),snippet:"",isAdminSnippet:!1,hasPersistentMenu:!1,disableComposerInput:!1,snippetHasEmoji:!1,authorityLevel:c.i64.cast([0,80]),ongoingCallState:c.i64.cast([0,0]),capabilities:c.i64.cast([0,0]),shouldRoundThreadPicture:!1})}]):(b.item,c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({threadName:a[1],folderName:"",parentThreadKey:c.i64.cast([0,0]),threadPictureUrl:a[2],lastActivityTimestampMs:d[0],lastReadWatermarkTimestampMs:d[1],removeWatermarkTimestampMs:c.i64.cast([0,0]),muteExpireTimeMs:c.i64.cast([0,0]),snippet:"",snippetText:void 0,snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:!1,hasPersistentMenu:!1,disableComposerInput:!1,snippetHasEmoji:!1,authorityLevel:c.i64.cast([0,80]),ongoingCallState:c.i64.cast([0,0]),capabilities:c.i64.cast([0,0]),shouldRoundThreadPicture:!1})}))})},function(d){return c.storedProcedure(b("LSUpdateFolderThreadSnippet"),a[0],a[5],a[6])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertFolderStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSVerifyCustomCommandsExist",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(296).fetch([[[a[0]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?(d[1]=new c.Map(),d[1].set("thread_key",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"fetch_custom_thread_commands",c.i64.cast([0,767]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(e.item,0)})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsVerifyCustomCommandsExistStoredProcedure";a.__tables__=["custom_thread_commands"];e.exports=a}),null);/*FB_PKG_DELIM*/
__d("LSInsertXmaAttachment",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(16).fetch([[[a[25],a[30],a[32]]]]),function(c){return b.i64.eq(c.threadKey,a[25])&&b.i64.eq(b.i64.cast([0,0]),a[26])&&c.messageId===a[30]&&c.attachmentFbid===a[32]&&b.i64.lt(c.authorityLevel,a[128])&&(b.i64.eq(c.attachmentType,b.i64.cast([0,7]))||b.i64.eq(c.attachmentType,b.i64.cast([0,0])))&&c.hasMedia===!1&&c.hasXma===!0&&b.i64.eq(c.ephemeralMediaState,void 0)}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({threadKey:a[25],messageId:a[30],attachmentFbid:a[32],filename:a[1],filesize:a[2],hasMedia:!1,isSharable:a[3],playableUrl:a[4],playableUrlFallback:a[5],playableUrlExpirationTimestampMs:a[6],playableUrlMimeType:a[7],previewUrl:a[8],previewUrlFallback:a[9],previewUrlExpirationTimestampMs:a[10],previewUrlMimeType:a[11],previewWidth:a[13],previewHeight:a[14],attributionAppId:a[15],attributionAppName:a[16],attributionAppIcon:a[17],attributionAppIconFallback:a[18],attributionAppIconUrlExpirationTimestampMs:a[19],attachmentIndex:a[20],accessibilitySummaryText:a[21],shouldRespectServerPreviewSize:a[22],subtitleIconUrl:a[23],shouldAutoplayVideo:a[24],attachmentType:a[27],timestampMs:a[29],offlineAttachmentId:a[31],hasXma:!0,xmaLayoutType:a[33],xmasTemplateType:a[34],collapsibleId:a[35],defaultCtaId:a[36],defaultCtaTitle:a[37],defaultCtaType:a[38],attachmentCta1Id:a[40],cta1Title:a[41],cta1IconType:a[42],cta1Type:a[43],attachmentCta2Id:a[45],cta2Title:a[46],cta2IconType:a[47],cta2Type:a[48],attachmentCta3Id:a[50],cta3Title:a[51],cta3IconType:a[52],cta3Type:a[53],imageUrl:a[54],imageUrlFallback:a[55],imageUrlExpirationTimestampMs:a[56],actionUrl:a[57],titleText:a[58],subtitleText:a[59],subtitleDecorationType:a[60],maxTitleNumOfLines:a[61],maxSubtitleNumOfLines:a[62],descriptionText:a[63],sourceText:a[64],faviconUrl:a[65],faviconUrlFallback:a[66],faviconUrlExpirationTimestampMs:a[67],listItemsId:a[69],listItemsDescriptionText:a[70],listItemsDescriptionSubtitleText:a[71],listItemsSecondaryDescriptionText:a[72],listItemId1:a[73],listItemTitleText1:a[74],listItemContactUrlList1:a[75],listItemProgressBarFilledPercentage1:a[76],listItemContactUrlExpirationTimestampList1:a[77],listItemContactUrlFallbackList1:a[78],listItemAccessibilityText1:a[79],listItemTotalCount1:a[80],listItemId2:a[81],listItemTitleText2:a[82],listItemContactUrlList2:a[83],listItemProgressBarFilledPercentage2:a[84],listItemContactUrlExpirationTimestampList2:a[85],listItemContactUrlFallbackList2:a[86],listItemAccessibilityText2:a[87],listItemTotalCount2:a[88],listItemId3:a[89],listItemTitleText3:a[90],listItemContactUrlList3:a[91],listItemProgressBarFilledPercentage3:a[92],listItemContactUrlExpirationTimestampList3:a[93],listItemContactUrlFallbackList3:a[94],listItemAccessibilityText3:a[95],listItemTotalCount3:a[96],isBorderless:a[100],headerImageUrlMimeType:a[101],headerTitle:a[102],headerSubtitleText:a[103],headerImageUrl:a[104],headerImageUrlFallback:a[105],headerImageUrlExpirationTimestampMs:a[106],previewImageDecorationType:a[107],shouldHighlightHeaderTitleInTitle:a[108],targetId:a[109],attachmentLoggingType:a[112],previewUrlLarge:a[114],bodyText:a[115],gatingType:a[116],gatingTitle:a[117],targetExpiryTimestampMs:a[118],countdownTimestampMs:a[119],shouldBlurSubattachments:a[120],verifiedType:a[121],captionBodyText:a[122],isPublicXma:a[123],replyCount:a[124],xmaDataclass:a[125],previewOverlayCountdownExpiry:a[126],stickerType:a[127],authorityLevel:a[128]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertXmaAttachmentStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSSetMessageTextHasLinks",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(a){var b=a.update;a.item;return b({textHasLinks:!0})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetMessageTextHasLinksStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSUpdateAttachmentCtaAtIndexIgnoringAuthority",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[6],b.i64.cast([0,0]))?b.forEach(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(b){var c=b.update;b.item;return c({defaultCtaId:a[3],defaultCtaTitle:a[4],defaultCtaType:a[5]})}):b.i64.eq(a[6],b.i64.cast([0,1]))?b.forEach(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(b){var c=b.update;b.item;return c({attachmentCta1Id:a[3],cta1Title:a[4],cta1Type:a[5],cta1IconType:void 0})}):b.i64.eq(a[6],b.i64.cast([0,2]))?b.forEach(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(b){var c=b.update;b.item;return c({attachmentCta2Id:a[3],cta2Title:a[4],cta2Type:a[5],cta2IconType:void 0})}):b.i64.eq(a[6],b.i64.cast([0,3]))?b.forEach(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(b){var c=b.update;b.item;return c({attachmentCta3Id:a[3],cta3Title:a[4],cta3Type:a[5],cta3IconType:void 0})}):b.resolve(function(a){b.logger(a).warn(a)}("Unexpected CTA index"))},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateAttachmentCtaAtIndexIgnoringAuthorityStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);/*FB_PKG_DELIM*/
__d("LSClearThreadBannedUsers",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.neq(void 0,void 0)?b.forEach(b.db.table(297).fetch([[[a[0],void 0]]]),function(a){return a["delete"]()}):b.forEach(b.db.table(297).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearThreadBannedUsersStoredProcedure";a.__tables__=["thread_bans"];e.exports=a}),null);
__d("LSIssueParticipantPointQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("table","14"),d[0].set("type",c.i64.cast([0,1])),d[0].set("1",a[0]),d[0].set("2",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"ppq",c.i64.cast([0,17]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueParticipantPointQueryStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateSelectiveSyncStateV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(294).fetch([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?(b.i64.neq(a[1],void 0)?c[1]=a[1]:c[1]=b.i64.cast([0,0]),b.db.table(294).add({threadKey:a[0],threadQueueSequenceId:c[1],lastSelectiveSyncTimestampMs:a[2]})):(d.item,b.sequence([function(c){return b.i64.neq(a[2],void 0)?b.forEach(b.db.table(294).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastSelectiveSyncTimestampMs:a[2]})}):b.resolve()},function(c){return b.i64.neq(a[1],void 0)?b.forEach(b.db.table(294).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadQueueSequenceId:a[1]})}):b.resolve()}]))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateSelectiveSyncStateV2StoredProcedure";a.__tables__=["community_thread_sync_info"];e.exports=a}),null);
__d("LSVerifyCommunityMemberContextualProfileExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(216).fetch([[[a[0],a[1]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?(d[1]=new c.Map(),d[1].set("community_id",a[1]),d[1].set("user_id",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"load_contextual_profile",c.i64.cast([0,548]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(e.item,0)})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyCommunityMemberContextualProfileExistsStoredProcedure";a.__tables__=["contextual_profile_v1"];e.exports=a}),null);
__d("LSVerifyContactParticipantExist",["LSIssueNewTask","LSIssueParticipantPointQuery"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[2]=new c.Map(),d[2].set("contact_id",a[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,c.i64.cast([0,60]))}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],rank:0,profilePictureUrl:"",name:a[2],isMessengerUser:!1,isMemorialized:!1,contactType:c.i64.cast([0,1]),contactTypeExact:c.i64.cast([0,1]),blockedByViewerStatus:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,60]),workForeignEntityType:c.i64.cast([0,0]),contactViewerRelationship:c.i64.cast([0,0])})}]):(e.item,0)})},function(d){return c.filter(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])}).next().then(function(d,e){e=d.done;d=d.value;return e?c.storedProcedure(b("LSIssueParticipantPointQuery"),a[1],a[0]):(d.item,0)})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyContactParticipantExistStoredProcedure";a.__tables__=["contacts","participants"];e.exports=a}),null);